!function(W,undefined){"use strict";var WD=W.document,WDL=WD.location,WDB=WD.body,JMVC=W.JMVC=function(){!function(){function e(e,t){t=t||"",JMVC.debug("ERROR: "+t+" ["+e.toString()+"]\n\nName:		"+(e.name||"-")+"\nMessage:	"+(e.message||"-")+"\nFile:			"+(e.fileName||"-")+"\nSource:		"+(e.toSource&&e.toSource()||"-")+"\nLine #:		"+(e.lineNumber||"-")+"\nColumn #:	"+(e.columnNumber||"-")+"\n\nStack:\n\n"+(e.stack||"-"))}window.onerror=function(t,n,r,o,i){i.message=i.message||t||null,i.fileName=i.fileName||n||null,i.lineNumber=i.lineNumber||r||null,i.columnNumber=i.columnNumber||o||null,e(i,"Uncatched Exception"),JMVC.Errors.notify(i)}}(W.onerror);var e,t,n,r,o,i,a,s,c,u,l,f,d,p,m,h=+new Date,g="3.5",y="8",v="11/11/2014",C="0:50:10",M="",b={},J="/",V=WDL.protocol+J+J+"www.jmvc.dev",x=WDL.protocol+J+J+"www.jmvc.org",w=WDL.protocol+J+J+"static.jmvc.dev",E=WDL.protocol+J+J+"static.jmvc.org",_={ext:J+"app"+J+"extensions"+J,test:J+"app"+J+"testsuite"+J,lang:J+"app"+J+"i18n"+J},D={controller:(M||"")+".js",model:(M||"")+".js",view:".html","interface":".interface"+(M||"")+".js"},F=["html","htm","jsp","php","js","jmvc","j","mvc","do","asp"],k={controller:"index",action:"index"},j=["vendors/google/analytics/analytics","core/cookie/cookie"],N={},A="en",T=A,S="undefined",O="ajax";return b={check:function(e,t){try{e.apply(null,t||[])}catch(n){l.notify(n)}},code:function(){var e=20,t=window.open("","","scrollbar=1,top="+e+",left="+e+",width="+(window.innerWidth-2*e)),n=window.document.documentElement.outerHTML,r=b.formatCode(n);t.document.body.style.overflow="scroll",t.document.body.style.margin="0px",t.document.body.style.padding="5px",t.document.body.style.backgroundColor="#000",t.document.body.style.color="#0f0",t.document.body.innerHTML='<pre style="overflow:scroll; height:100%;">'+JMVC.htmlChars(r)+"</pre>"},debug:function(t){var n=+new Date,r=n-(e.vars.endtime||e.vars.starttime||n),o=r%1e3,i=~~(r%6e4/1e3),a=~~(r/6e4),s="";s+=(a&&~~a+"m")+(i&&~~i+"s")+o+" ms :: ",s+=t;try{W.console.log(s)}catch(c){try{W.opera.postError(s)}catch(u){W[W.hasOwnProperty("log")?"log":"alert"](s)}}return!0},define:function(t,n,r){return b.ns.check(t,e)||b.require.apply(null,n.concat([function(){for(var o=[],i=0,a=n.length;a>i;)o.push(b.ns.check(n[i++],e));return b.ns.make(t,r.apply(null,o),e)}]))},del:function(t,n){return n?n.removeItem(t):t in e.vars&&(e.vars[t]=null),e},delegate:function(t,n){var r=Array.prototype.slice.call(arguments,2);return function(){return t.apply(n||e,[].concat(r,Array.prototype.slice.call(arguments)))}},each:function(e,t){var n,r,o,i="length"in e?"array":"object";if(t._break=!1,t._continue=!1,t["break"]=function(){t._break=!0},t["continue"]=function(){t._continue=!0},"array"===i)for(o=[],n=0,r=e.length,null;r>n;n+=1)if(t._continue)t._continue=!1;else{if(t._break)break;o.push(t.call(e,e[n],n))}else if("object"===i){o={};for(n in e)if(e.hasOwnProperty(n)){if(t._continue){t._continue=!1;continue}if(t._break)break;!function(n){o[n]=t.call(e,e[n],n)}(n)}}else o=t(e);return o},extend:function(t,n){if(!t)throw new JMVC.Errors.BadParams("Missing first parameter for extend");if(!n)throw new JMVC.Errors.BadParams("Missing object parameter for extend");if("function"==typeof n)return b.extend(t,n());if("function"==typeof n.initCheck){if(!n.initCheck.call(e))return!1;n.initCheck=null}var r=b.ns.make("JMVC."+t);return d.call(r),function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&e[n]===undefined&&(e[n]=t[n])}(r,n),"function"==typeof n.init&&(n.init.call(e),n.init=null),r},factory_method:function(t,n,r){var o,i=n.split("/"),a=!1,s=e.vars.baseurl+J+"app"+J+t+"s/",c=t;return i.length>1&&(n=i.pop(),a=i.join(J)),"controller"===t&&(s+=e.c_prepath),s+=(a?a+J:"")+n,c=c.match(/(view|model|controller|interface)/),c&&c[0]===t?(s+=D[t],o=b.xhrget(s,t,n,r)):!1},formatCode:function(e){var t,n,r=e||document.documentElement.outerHTML,o=0,i="",a=0,s=4,c=new Array(s+1).join("&nbsp;"),u={open:/^<([^\/].*[^\/])>$/,close:/^<\/(.*)>$/,autoclose:/^<[^>]*\/>$/,text:/^[^<]*$/,special:/<(meta|link|br|hr|img|col|input|source)+(\s[^>]*|>)?\/?>/},l=[],f=0,d=0,p={special:1,open:2,close:3,autoclose:4,text:5},m=function(){return"\n"+h()+(o>0?new Array(o+1).join(c):"")},h=function(){return a++,new Array(6-(""+a).length).join("0")+a},g=function(e){return e.match(u.special)?p.special:e.match(u.open)?p.open:e.match(u.close)?p.close:e.match(u.autoclose)?p.autoclose:e.match(u.text)?p.text:p.open};for(r=r.replace(/\s{2,}/g," ").replace(/>[\s|\t]*</g,"><").replace(/[\n|\t|\r]/g,"").replace(/<!--([\s\S]*?)-->/gim,"").split(/(<[^>]+>)/gi),d=r.length;d>f;f++)r[f]&&l.push(r[f]);for(f=0,d=l.length;d>f;f++)switch(n=l[f],t=g(n)){case p.special:i+=m()+n;break;case p.open:if(i+=m()+n,"<script>"===n)for(;"</script>"!==n;)n=l[++f],i+=n;else o++;break;case p.close:o--,i+=m()+n;break;case p.autoclose:i+=m()+n;break;case p.text:i+=n,d>f+1&&g(l[f+1])===p.close&&(i+=l[f+1],f++,o--)}return i},get:function(t,n){return n?JSON.parse(n.getItem(t)):e.vars[t]||undefined},globalize:function(e,t){JMVC.W[t]=e},hook:function(t,n){var r=["onBeforeRender","onAfterRender","onBeforeParse","onAfterParse"],o=0;for(o in t)if(t.hasOwnProperty(o))try{if(!(e.array.find(r,o)>-1||n))throw{message:'EXCEPTION : You`re trying to hook unallowed function "'+o+'"'};N.hasOwnProperty(o)&&N[o]instanceof Array||(N[o]=[]),N[o].push(t[o])}catch(i){W.alert(i.message)}},hook_check:function(e,t){var n,r=t instanceof Array?t:!1;if(r&&e in N)for(n in N[e])r=N[e][n].apply(null,r),!(r instanceof Array)&&(r=[r]);return r},htmlChars:function(e){return e.replace(/&(?![\w\#]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},htmlCharsDecode:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},implement:function(e,t){var n=0,r=t.length;for(null;r>n;n+=1)if(!(e.prototype&&t[n]in e.prototype&&"function"==typeof e.prototype[t[n]]||t[n]in e&&"function"==typeof e[t[n]]))return!1;return!0},inherit:function(){for(var e=[].slice.call(arguments,0),t=e.length-1;t>0;)!function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superClass=t.prototype,e.baseConstructor=t}(e[t-1],e[t]),t--},jeval:function(e){try{return JMVC.W.eval(e)}catch(t){}return!1},lang:function(){for(var e=Array.prototype.slice.call(arguments,0),t=0,n=e.length;n>t;)!JMVC.i18n[e[t]]&&(JMVC.i18n[e[t]]=!0),t+=1},model_inherit:function(e){e.prototype.get=r.prototype.get,e.prototype.set=r.prototype.set,e.prototype.del=r.prototype.del,e.prototype.vars=r.prototype.vars,e.prototype.reset=r.prototype.reset,e.prototype.constructor=r.prototype.constructor},multi_inherit:function(e,t){b.each(e,function(e){b.inherit(e,t)})},ns:{make:function(e,t,n){var r,o=".",i=e.split(/\.|\//),a=i.length;return typeof n===S&&(n=W),typeof t===S&&(t={}),n[i[0]]||(n[i[0]]=1===a?t:{}),r=n[i[0]],a>1?b.ns.make(i.slice(1).join(o),t,n[i[0]]):r},check:function(e,t){var n=e.split(/\.|\//),r=0,o=n.length;for(t=t!==undefined?t:W,null;o>r;r+=1){if(!t[n[r]])return!1;t=t[n[r]]}return t}},parseLang:function(t){var n,r="\\[L\\[([\\S\\s]*?)\\]\\]",o=!0,i=1e5,a=e.cookie.get("lang")||A;for(JMVC.vars.currentlang=a,e.lang(JMVC.vars.currentlang),JMVC.i18n[JMVC.vars.currentlang]===!0&&e.io.get(JMVC.vars.baseurl+_.lang+JMVC.vars.currentlang+(M||"")+".js",function(e){b.jeval(e)},!1);i&&(o=new RegExp(r,"gm").exec(t),n="",o);)n=e.i18n[JMVC.vars.currentlang]&&e.i18n[JMVC.vars.currentlang][o[1]]||o[1],t=t.replace(o[0],n),o=!!o,i-=1;return t},prototipize:function(e,t){var n,r,o=0;if(e instanceof Array)for(r=e.length;r>o;o+=1)b.prototipize(e[o],t);for(n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])},purge:function(e){var t;try{for(t in e)e[t]=null,delete e[t]}catch(n){}},render:function(t){var r,o;if(e.factory("controller",e.c),e.c in e.controllers){b.inherit(e.controllers[e.c],n),r=new e.controllers[e.c],e.controllers[e.c]=r,"jmvc_routes"in r&&(e.a=r.jmvc_routes[e.a]||e.a);for(o in e.p)e.p.hasOwnProperty(o)&&r.set(o,decodeURI(e.p[o]));"before"in r&&"function"==typeof r.before&&r.before(e.p),"before_"+e.a in r&&"function"==typeof r["before_"+e.a]&&r["before_"+e.a](e.p),"action_"+e.a in r&&"function"==typeof r["action_"+e.a]?r["action_"+e.a](e.p):"action"in r&&"function"==typeof r.action?r.action(e.a,e.p):e.a.toLowerCase()!==k.action&&WDL.replace(J+"404"+J+"msg"+J+"act"+J+e.a),"after_"+e.a in r&&"function"==typeof r["after_"+e.a]&&e.hook({onAfterRender:function(){r["after_"+e.a](e.p)}}),"after"in r&&"function"==typeof r.after&&e.hook({onAfterRender:function(){r.after(e.p)}})}else e.c.toLowerCase()!==k.controller&&WDL.replace(J+"404"+J+"msg"+J+"cnt"+J+e.c);t&&"function"==typeof t&&t.call(e),e.events.loadifyCalled||(WD.body.style.opacity=1,WD.body.style.filter="alpha(opacity=100)"),e.loaded=!0},require:function(){for(var t,n,r,o,i,a=0,s=arguments,c=s.length,u=JMVC.WD.getElementsByTagName("head").item(0),l=null,f="require.json";c>a;){if("function"==typeof s[a]&&(l=s[a]),"string"==typeof s[a])if(s[a].match(/\/$/))e.io.getJson(JMVC.vars.baseurl+_.ext+s[a]+f,function(e){for(var t in e)b.require(s[a]+e[t])},!1);else if(!e.extensions[s[a]]){if(n=s[a].split(J),r=n.length,o=n[r-1],t=JMVC.vars.baseurl+_["testsuite"===s[a]?"test":"ext"]+s[a].replace(/\./,"/")+(M||"")+".js",O.match(/ajax/))e.io.get(t,function(e){b.jeval(e)},!1);else{if(!O.match(/script/))throw new JMVC.Errors.BadSetting('No way to use JMVC.require function: getmode not in ["ajax","script","scriptghost"]');i=JMVC.WD.createElement("script"),i.type="text/javascript",i.src=t,u.appendChild(i),"scriptghost"===O&&u.removeChild(i)}e.extensions[s[a]]=s[a]}a++}return l?l():!0},set:function(t,n,r){if(JMVC.util.isObject(t)){for(var o in t)e.set(o,t[o],r);return e}return r?r.setItem(t,JSON.stringify(n)):e.vars[t]=n,e},xhrget:function(t,r,i,a){var s,c=!1;return"view"===r&&"function"==typeof e.views[i]?c=e.views[i]:"model"===r&&"function"==typeof e.models[i]?(s=new e.models[i],a&&e.models[i].apply(s,a),s.vars={},c=s):e.io.get(t,function(t){switch(r){case"view":e.views[i]=new o(t),c=e.views[i];break;case"controller":b.jeval(t),b.inherit(e[r+"s"][i],n);break;case"model":b.jeval(t),b.model_inherit(e[r+"s"][i]),s=new e.models[i],a&&e.models[i].apply(s,a),s.vars={},c=s;break;case"interface":!(i in JMVC.interfaces)&&b.jeval(t)}},!1),c},xdoc:function(t){if(!("elements"in JMVC.xdoc)&&(JMVC.xdoc.elements={}),e.require("core/xdoc/xdoc"),t in JMVC.xdoc.elements)JMVC.xdoc.toggle(t);else try{JMVC.io.getXML(JMVC.vars.baseurl+"/app/extensions/"+t+".xml",function(e){JMVC.xdoc.elements[t]=e,JMVC.xdoc.toggle(t)},function(e){return alert(["[ JMVC WARNING ]","The document",("/app/extensions/"+t+".xml").replace(/\//g," / "),"CANNOT be found!"].join("\n\n")),e.abort(),!1})}catch(n){}},get2:function(e){return b.ns.check(e,JMVC.vars)},set2:function(e,t){b.ns.make(e,t,JMVC.vars)},del2:function(e){b.purge(b.get2(e))}},m=function(e){W.setTimeout(function(){var t=u.create(),n=null,r=function(e,t){JMVC.dom.remove(t)};t.then(r),function(t){n=JMVC.dom.add(JMVC.dom.body(),"iframe",{src:e,width:1,height:1}),n.contentWindow.onload=function(){t.done(n)}}(t)},0)},l={Network:function(e){this.name="Network",this.msg=e||this.name+" error"},BadParams:function(e){this.name="BadParams",this.msg=e||this.name+" error"},BadName:function(e){this.name="BadName",this.msg=e||this.name+" error"},BadImplement:function(e){this.name="BadImplement",this.msg=e||this.name+" error"},ControllerNotFound:function(e){this.name="ControllerNotFound",this.msg=e||this.name+" error"},ActionNotFound:function(e){this.name="ActionNotFound",this.msg=e||this.name+" error"},BadSetting:function(e){this.name="SettingMismash",this.msg=e||this.name+" error"}},b.multi_inherit(l,W.Error),l.notify=function(e){var t="[ERROR "+e.name+" : "+e.msg;return JMVC.debug(t)&&alert(t),!1},c=function(){var e=function(e){this.sender=e,this.listeners=[]};return e.prototype={attach:function(e){this.listeners.push(e)},notify:function(e){for(var t=0,n=this.listeners.length;n>t;)this.listeners[t++](this.sender,e)}},{create:function(t){return new e(t)}}}(),f=function(){var e={},t=function(e,t){if("indexOf"in e)return e.indexOf(t);for(var n=e.length-1;e[n]!==t;)n--;return n},n=function(){this.topic2cbs={},this.enabled=!0};return n.prototype={enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},pub:function(e,t){var n,r=0;if(!(e in this.topic2cbs&&this.enabled))return!1;for(n=this.topic2cbs[e].length;n>r;r+=1)this.topic2cbs[e][r].apply(null,[e].concat(t));return!0},sub:function(e,n,r){var o,i=0;if(e instanceof Array)for(o=e.length;o>i;i+=1)this.sub(e[i],n);return e in this.topic2cbs&&this.enabled||(this.topic2cbs[e]=[]),!r&&t(this.topic2cbs[e],n)>=0?this:void this.topic2cbs[e].push(n)},unsub:function(e,n){var r,o=0;if(e instanceof Array)for(r=e.length;r>o;o+=1)this.unsub(e[o],n);return e in this.topic2cbs&&(o=t(this.topic2cbs[e],n),o>=0&&this.topic2cbs[e].splice(o,1)),this},once:function(e,t){var n=this,r=function(){t.apply(null,Array.prototype.slice.call(arguments,0)),n.unsub(e,r)};this.sub(e,r)},reset:function(){var e=Array.prototype.slice.call(arguments,0),t=e.length,n=0;if(!t)return this.topic2cbs={},this;for(null;t>n;n+=1)e[n]in this.topic2cbs&&(this.topic2cbs[e[n]]=[]);return this}},function(t){return t in e||(e[t]=new n),e[t]}}(),s=f("JMVC"),d=function(){this._={}},d.prototype={},u=function(){function e(e,t){for(var r=new n,o=function(){return e[0].apply(r,[r].concat([t])),r}(),i=[o],a=1,s=e.length;s>a;a++)i.push(i[a-1].then(e[a]));return r}function t(e,t){var r=new n,o=[],i=[],a=0,s=e.length,c=s,u=function(e){!e&&r.done.apply(r,o)};for(null;s>a;a++)!function(r){i[r]=new n,e[r].apply(i[r],[i[r],t]),i[r].then(function(e,t){o[r]=t,u(--c)})}(a);return r}var n=function(){this.cbacks=[],this.solved=!1,this.result=null},r=n.prototype;return r.then=function(e,t){var n=this,r=function(){n.solved=!1,e.apply(t||n,[t||n,n.result])};return this.solved?r():this.cbacks.push(r),this},r.done=function(){var e=[].slice.call(arguments,0);return this.result=e,this.solved=!0,this.cbacks.length?void this.cbacks.shift()(e):this.result},{create:function(){return new n},chain:e,join:t}}(),i=function(){var e=function(e,t){var n,r=0;if(this.name=e,this.mthds=[],!(t instanceof Array))throw new Error("An array of strings must be passed to the Interface constructor");for(n=t.length,null;n>r;r+=1)"string"==typeof t[r]&&this.mthds.push(t[r])};return{create:function(t,n){return new e(t,n)}}}(),i.checkImplements=function(e){for(var t,n=0,r=Array.prototype.slice.call(arguments),o=r.length,i=!0,a="";++n<o;)for(t in r[n].mthds)"function"!=typeof e[r[n].mthds[t]]&&(i=!1,a+="Function Interface.checkImplements: object does not implement the `"+r[n].name+"` interface : method "+r[n].mthds[t]+" was not found.\n");return i||JMVC.debug(a),i},p=function(){this.queue=[]},p.prototype.add=function(e){this.queue.push(e)},p.prototype.run=function(){for(var e,t=0,n=this.queue.length,r=[].slice.call(arguments,0);n>t;)e=this.queue[t++],!(r instanceof Array)&&(r=[r]),r=e.apply(null,r);return r},p.prototype.reset=function(){this.queue.length=0},n=function(){},n.prototype.view=!1,n.prototype.vars={},n.prototype.jmvc_routes={},n.prototype.index=function(){W.alert("Default index action, write down a controller with at least an index action")},n.prototype.addRoutes=function(e,t){var n;if("string"==typeof e&&(this.jmvc_routes[e]=t),"object"==typeof e)for(n in e)e.hasOwnProperty(n)&&this.addRoutes(n,e[n])},n.prototype.relocate=function(e,t){W.setTimeout(function(){WDL.href=String(e)},~~t||0)},n.prototype.render=function(e,t){return"function"==typeof e&&(t=e,e=!1),this.view=new o(e),this.view.render(t&&"function"==typeof t?{cback:t}:null),this},n.prototype.reset=function(){return this.vars={},this},r=function(){},r.prototype.vars={},r.prototype.reset=function(){return this.vars={},this},r.prototype.constructor="model",o=function(t){this.container=!1,this.ocontent=t||"",this.content=t||"",this.vars={baseurl:e.vars.baseurl}},o.prototype.parse=function(t){var n;if(this.content){if(t)for(n in t.vars)t.vars.hasOwnProperty(n)&&(this.content=this.content.replace(new RegExp("\\$"+n+"\\$","g"),t.get(n)||""));for(n in e.vars)e.vars.hasOwnProperty(n)&&(this.content=this.content.replace(new RegExp("\\$"+n+"\\$","gm"),e.vars[n]||""))}return this},o.prototype.reset=function(){return this.content=this.ocontent,this.vars={},this},o.prototype.setFromUrl=function(t,n){return this.set(String(t),e.controllers[e.c].get(t)||n||"unset"),this},o.prototype.getFromUrl=function(t){return e.controllers[e.c].get(t)||!1},o.prototype.render=function(t){var n,r,o=t||{},i=o.cback||!1,s=o.argz||null,c=o.target||WD.body,u=this,l=this.content,f="\\$(.[^\\$\\s}]*)\\$";for("function"==typeof t&&(i=t),n=1;n;)n=new RegExp(f,"gm").exec(l),n&&(r=this.get(n[1])||"",l=l.replace("$"+n[1]+"$",r));return l=a.parse(l),this.content=l,this.container=c,e.loaded?(e.dom.html(c,u.content),i&&i.apply(this,s?s:[])):e.events.on(W,"load",function(){e.events.startRender(),e.loaded=!0,e.vars.starttime=h,e.vars.endtime=+new Date,e.vars.rendertime=e.vars.endtime-e.vars.starttime,u.content=b.hook_check("onBeforeRender",[u.content])||u.content,e.dom.html(c,u.content),i&&i.apply(this,s||[]),u.content=b.hook_check("onAfterRender",[u.content])||u.content,e.events.endRender()}),this},o.prototype.clone=function(t){var n=!1;return"undefined"!=typeof t?(e.views[t]=new o(this.ocontent),n=e.views[t]):n=new o(this.ocontest),n},o.prototype.get=r.prototype.get=n.prototype.get=function(e){return this.vars[e]?this.vars[e]:!1},o.prototype.set=r.prototype.set=n.prototype.set=function(e,t,n){var r;switch(typeof e){case"string":(!this.vars[e]||n)&&(this.vars[e]=t);break;case"object":for(r in e)e.hasOwnProperty(r)&&(!this.vars[r]||t||n)&&(this.vars[r]=e[r])}return this},o.prototype.del=r.prototype.del=n.prototype.del=function(e){return!!this.vars[e]&&(this.vars[e]=null),this},a={tpl:function(e){return e.match(/\<%/)?function(e){var t=new Function("obj","var p=[]; p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');  return p.join('');");return t(e)}(e):e},parse:function(t){if(typeof t===S)return"";var n,r,o,i,s,c,u,l,f,d=t,p={patt:"{{(.[^\\}]*)}}",pattpar:"\\s(.[A-z]*)=`(.[^/`]*)`",pattvar:"\\$(.[^\\$\\s}]*)\\$",viewname:"^(.[A-z_/]*)\\s"},m=0,h=100,g=!0;for(b.hook_check("onBeforeParse",[d]);h>m;)if(m+=1,c=new RegExp(p.patt,"gm").exec(d)){if(o=i=c[1],s=!1,new RegExp(p.pattpar,"gm").test(c[1]))for(s={},f=new RegExp(p.viewname).exec(c[1]),o=f[1],f=c[1];g;)l=new RegExp(p.pattpar,"gm").exec(f),l?(s[l[1]]=l[2],f=f.replace(" "+l[1]+"=`"+l[2]+"`","")):g=!1;if(u=e.views[o]?e.views[o]:e.factory("view",o),s!==!1)for(r in s)s.hasOwnProperty(r)&&u.set(r,s[r]);for(l=!0;l;)l=new RegExp(p.pattvar,"gm").exec(u.content),l&&(u.content=u.content.replace("$"+l[1]+"$",u.get(l[1])));d=d.replace("{{"+i+"}}",u.content)}else m=h;for(n in e.vars)e.vars.hasOwnProperty(n)&&(d=d.replace(new RegExp("\\$"+n+"\\$","g"),e.vars[n]));return d=a.tpl(d),b.hook_check("onAfterParse",[d]),d}},t=function(){var e,t,n={url:WDL.protocol+J+J+WDL.hostname+WDL.pathname+WDL.search,proto:WDL.protocol,host:WDL.hostname,path:WDL.pathname,search:WDL.search,hash:WDL.hash.substr(1),port:WDL.port?":"+WDL.port:""},r=n.path.replace(new RegExp("\\."+F.join("|\\."),"gm"),"").substr(1).split(J),o=!1,i="",a=[],s=/_|-/,c=!1,u={},l=0,f=WDL.protocol+J+J+WDL.hostname;for(r[0].match(/^test_/)&&j.push("testsuite"),o=r.shift()||k.controller,o.match(s)&&(a=o.split(s),o=a.pop(),i=a.join(J)+J),c=r.shift()||k.action,l=r.length,t=0;l>t+1;t+=2)u[r[t]]=r[t+1];if(""!==n.search)for(r=n.search.substr(1).split("&"),t=0,l=r.length;l>t;t+=1)e=r[t].split("="),!u[e[0]]&&(u[e[0]]=e[1]);return"jmvcgoto"in u?(document.location.href=W.decodeURIComponent(u.jmvcgoto),!1):{controller:o.replace(/\//g,""),controller_prepath:i,action:c.replace(/\//g,""),params:u,baseurl:f,port:n.port,search:n.search,hash:n.hash}}(),e={loaded:!1,W:W,WD:WD,WDL:WDL,WDB:WDB,US:J,M:Math,c_prepath:t.controller_prepath,c:t.controller||k.controller,a:t.action||k.action,p:t.params||{},hash:t.hash,controllers:{},models:{},views:{},interfaces:{},vars:{baseurl:t.baseurl+t.port,extensions:t.baseurl+t.port+_.ext,devurl:V,produrl:x,devurlstatic:w,produrlstatic:E,version:g,review:y,date:v,time:C,last_modified:WD.lastModified,starttime:0,rendertime:0,endtime:0,retina:W.devicePixelRatio>1,randcolor:new function(){var e=["00","33","66","99","CC","FF"];this.toString=function(){return"#"+e[JMVC.util.rand(0,5)]+e[JMVC.util.rand(0,5)]+e[JMVC.util.rand(0,5)]}},currentlang:T},widget:{},extensions:{},extensions_params:{},i18n:{},modules:j,nsCheck:b.ns.check,nsMake:b.ns.make,Channel:f,Event:c,Errors:l,Interface:i,FunctionQueue:p,Pipe:s,Promise:u,parseLang:b.parseLang,hookCheck:b.hook_check,debug:b.debug,delegate:b.delegate,code:b.code,extend:b.extend,define:b.define,factory:b.factory_method,inherit:b.inherit,multinherit:b.multi_inherit,preload:m,check:b.check,hook:b.hook,hooks:N,jeval:b.jeval,prototipize:b.prototipize,purge:b.purge,parse:a.parse,render:b.render,require:b.require,lang:b.lang,set:b.set,get:b.get,del:b.del,set2:b.set2,get2:b.get2,del2:b.del2,htmlChars:b.htmlChars,htmlCharsDecode:b.htmlCharsDecode,gc:function(){var e=0,t=arguments,n=t.length;for(null;n>e;e+=1)t[e]=null},getView:function(e){return b.factory_method("view",e)},getModel:function(e,t){return b.factory_method("model",e,t)},loadInterfaces:function(e,t){return b.factory_method("interface",e,t)},implement:b.implement,each:b.each,console:function(t){t=t||{},"core/console/console"in e.extensions||e.require("core/console/console"),t.clear&&(t.h=t.j=t.c=""),JMVC.console.toggle(t.h,t.j,t.c,t.tab)},xdoc:b.xdoc,loading:function(e,t){try{document.getElementById("JMVCisloading").style.display="block",document.getElementById("JMVCloading").style.width=~~e+"%",t&&(document.getElementById("JMVCloadingmessage").innerHTML=t)}catch(n){}}},e.gc(V,x,F,g,y,t,n,r,o,c,j,k,h),e}(),_={};_.common={digFor:function(e,t,n){function r(e,t,n){var a,s,c,u=function(e,a){c=[].concat.call(n,[e]),o(e,a,t)&&i.push({value:a,path:c.join("/")}),r(a,t,c)};if("object"==typeof e)for(a in e)u(a,e[a]);else{if(!(e instanceof Array))return;for(a=0,s=e.length;s>a;a++)u(a,e[a])}}if(!e.match(/key|value/))throw new JMVC.Errors.BadParams("Bad param for JMVC._.object.digFor");var o={key:function(e,t,n){return JMVC.object.jCompare(e,n)},value:function(e,t,n){return JMVC.object.jCompare(t,n)}}[e],i=[];return r(t,n,[]),i}},_.io={getxhr:function(){return"XMLHttpRequest"in W?function(){return JMVC.io.xhrcount+=1,new W.XMLHttpRequest}:"ActiveXObject"in W?function(){return JMVC.io.xhrcount+=1,new W.ActiveXObject("Microsoft.XMLHTTP")}:function(){JMVC.debug("No way to initialize XHR")}}(),ajcall:function(e,t){var n=_.io.getxhr(),r=t&&t.method||"POST",o=t&&t.cback,i=t&&t.opened||function(){},a=t&&t.loading||function(){},s=t&&t.error||function(){},c=t&&t.abort||function(){return!1},u=t&&t.loadstart||function(){},l=t&&t.timeout||function(){},f=t&&t.sync,d=t&&t.data||!1,p=t&&t.type||"text/html",m=t&&t.cache!==undefined?t.cache:!0,h="xml"===p?"responseXML":"responseText",g=t&&t.timeout||3e3,y=!1,v=!1,C=!1,M=!1;m||(d.C=JMVC.util.now()),d=JMVC.object.toQs(d).substr(1),n.onreadystatechange=function(){var e;if(M===n.readyState)return!1;if(M=n.readyState,4===n.readyState)return n.status>=200&&n.status<300||304==n.status?(y=!0,o&&(v=n[h],function(){o(v)}(v)),C=n[h],W.setTimeout(function(){JMVC.io.xhrcount-=1},50),C):(s(n),!1);if(3===n.readyState)a(n);else if(2===n.readyState)i(n);else if(1===n.readyState)switch(u(n),r){case"POST":try{n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(d||!0)}catch(t){}break;case"GET":try{e={xml:"text/xml",html:"text/html",json:"application/json"}[p]||"text/html",n.setRequestHeader("Accept",e+"; charset=utf-8"),n.send(null)}catch(c){}break;default:n.send(null)}return!0},n.onerror=function(){s&&s.apply(null,arguments)},n.onabort=function(){c&&c.apply(null,arguments)},n.open(r,"GET"===r?e+(d?"?"+d:""):e,f),W.setTimeout(function(){y||(l(n),y=!0,n.abort())},g);try{return"responseXML"===h?n[h].childNodes[0]:n[h]}catch(b){}return!0}},JMVC.io={xhrcount:0,getxhr:_.io.getxhr,post:function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t,method:"POST",sync:n,data:r,cache:o,error:i})},get:function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t||function(){},method:"GET",sync:n,data:r,cache:o,error:i})},"delete":function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t||function(){},method:"DELETE",sync:n,data:r,cache:o,error:i})},getJson:function(e,t,n,r){return _.io.ajcall(e,{type:"json",method:"GET",sync:!1,cback:function(e){var n=W.JSON&&W.JSON.parse?JSON.parse(e):JMVC.jeval("("+e+")");t(n)},error:r||function(){},data:n})},getXML:function(e,t,n){return _.io.ajcall(e,{method:"GET",sync:!1,type:"xml",cache:!1,error:n||function(){},cback:t||function(){}})}},_.util={},JMVC.util={deg2rad:function(e){return e*JMVC.M.PI/180},getLink:function(e,t,n){var r=[];return e&&r.push(e),t&&r.push(t),n&&r.push(n),JMVC.vars.baseurl+JMVC.US+r.join(JMVC.US)},getParameters:function(scriptid,pname){var script=document.getElementById(scriptid),p=!1,parameters=!1;return pname=pname||"data-params",p=script.getAttribute(pname),parameters=p?eval("("+p+")"):{}},getSignature:function(e){for(var t,n=e.toString(),r=n.split(/\n/)[0].match(/\((.*)\)/)[1].split(","),o={},i=-1,a=r.length;++i<a;)t=JMVC.string.trim(r[i]).match(/(\w*)\s?(\/\*\*?([^*]*)\*\*?\/)?/),o[t[1]]=4==t.length?t[3]:"not specified";return o},getType:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},typeOf:function(e){return null===e?"null":isArray(e)?"array":typeof e},hex2int:function(e){return parseInt(e,16)},int2hex:function(e){return parseInt(e,10).toString(16)},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=String(e)!==e,n={}.toString.call(e).match(/\[object\sArray\]/);return t&&!(!n||!n.length)},isBoolean:function(e){return"boolean"==typeof e||e instanceof Boolean},isDefined:function(e){return null!==e&&void 0!==e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e||e instanceof Number},isObject:function(e){var t=String(e)!==e,n=e===Object(e),r="function"!=typeof e,o={}.toString.call(e).match(/\[object\sObject\]/);return t&&n&&r&&!(!o||!o.length)},isPrimitive:function(e){return/string|number|boolean/.test(typeof e)},isSet:function(e){return"undefined"!=typeof e},isString:function(e){return"string"==typeof e||e instanceof String},isTypeOf:function(e,t){return typeof e===t},isUndefined:function(e){return null===e||void 0===e},now:function(){return+new Date},rand:function(e,t){return e+~~(JMVC.M.random()*(t-e+1))},rad2deg:function(e){return 180*e/JMVC.M.PI},range:function(e,t){if(e>t)throw new JMVC.Errors.BadParams("ERROR: JMVC.util.range function #badparams ("+e+", "+t+")");for(var n=[];t-e+1;)n.push((e+=1)-1);return n},uniqueid:new function(){var e=0,t=this;this.prefix="JMVCID",this.toString=function(){return++e,t.prefix+e}}},_.dom={qsall:function(e){return"querySelectorAll"in JMVC.WD?JMVC.WD.querySelectorAll(e):!1},nodeidMap:{},nodeAttrForIndex:"__ownid__"},JMVC.dom={add:function(e,t,n,r){var o=JMVC.dom.create(t,n,r);return JMVC.dom.append(e,o),o},addClass:function(e,t){if(JMVC.util.isArray(e))for(var n=0,r=e.length;r>n;n++)JMVC.dom.addClass(e[n],t);else{var o=e.className?e.className.split(" "):[];JMVC.array.find(o,t)<0&&(o.push(t),e.className=o.join(" "))}},append:function(e,t){if(JMVC.util.isArray(t))for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n]);else e.appendChild(t);return e},attr:function(e,t,n){if(!e)return"";if(!("nodeType"in e))return!1;if(3===e.nodeType||8===e.nodeType)return undefined;var r,o=!1,i=!1,a=0,s=!1;if(s=JMVC.util.isObject(t),s&&e.setAttribute){for(a in t)e.setAttribute(a,t[a]);return!0}if(!t||t.constructor!==String)return"";if("undefined"!=typeof n)e[{"for":"htmlFor","class":"className"}[t]||t]=n,e.setAttribute&&e.setAttribute(t,n);else{if(r=e.getAttribute&&e.getAttribute(t)||0,!r)for(o=e.attributes,i=o.length,a=0;i>a;a+=1)if(o[a].nodeName===t)return o[a].value;e=r}return e},body:function(){return WD.body},childs:function(e){return e.childNodes},clearer:function(){return JMVC.dom.create("br",{"class":"clearer"})},clone:function(e,t){return e.cloneNode(!!t)},create:function(e,t,n){if(!e)return W.alert("no tag"),!1;var r,o=JMVC.WD.createElement(e);t=t||{};for(r in t)t.hasOwnProperty(r)&&o.setAttribute(String(r),String(t[r]));return"undefined"!=typeof n&&(n.nodeType&&1===n.nodeType?JMVC.dom.append(o,n):JMVC.dom.html(o,n)),o},createText:function(e){return JMVC.WD.createTextNode(e)},createNS:function(e,t){return JMVC.WD.createElementNS(e,t)},domStats:function(){var e=JMVC.array.coll2array(document.getElementsByTagName("*")),t=e.length;return{numberOfNodes:t,KBytes:parseFloat((document.documentElement.outerHTML.split("").length/1024).toFixed(2),10)}},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},empty2:function(e){e.innerHTML=""},eulerWalk:function(e,t,n){n={pre:"pre",post:"post"}[n]||"post";var r=function(){},o="pre"===n?t:r,i="post"===n?t:r,a=function(){return function(e,t){for(o(e),t=e.firstChild;t;)a(t),t=t.nextSibling;i(e)}}();a(e)},find:function(e,t){var n="getElement",r=!0,o=!1,i=!1;if("*"==e)return document.getElementsByTagName("*");if(1===e.nodeType)return e;if(!o){switch(e=e.match(/^(\W)?([A-z0-9-_]*)/),e[1]||"="){case"#":n+="ById",r=!1;break;case".":n+="sByClassName";break;case"@":n+="sByName";break;case"=":n+="sByTagName";break;default:return[]}o=(t||JMVC.WD)[n](e[2])}return o=r?JMVC.array.coll2array(o):o,i=o instanceof Array,i&&1===o.length?o[0]:o},find2:function(e,t){if(1===e.nodeType)return e;var n="getElement",r=0,o=0;return e=e.match(/^(\W)?([A-z0-9-_]*)/),e[1]=e[1]||"=",r="#"!==e[1],o=(t||JMVC.WD)[n+{"#":"ById",".":"ByClassName","@":"sByName","=":"sByTagName"}[e[1]]](e[2]),o=r?JMVC.array.coll2array(o):o,o instanceof Array&&1===o.length?o[0]:o},findInnerByClass:function(e,t){var n=[],r=new RegExp("\\b"+t+"\\b"),o=e.getElementsByTagName("*"),i=0,a=o.length;for(null;a>i;i+=1)r.test(o[i].className)&&n.push(o[i]);return n},findByAttribute:function(e,t,n){var r,o,i=[],a=[],s=t===undefined,c=n instanceof Array;for(n=c?n:n||JMVC.WD.body,a=c?n:n.all?n.all:n.getElementsByTagName("*"),o=a.length;o--;)r=a[o].getAttribute(e),"string"!=typeof r||!s&&r!==t||i.push(a[o]);return i},firstAncestor:function(e,t){do e=e.parentNode;while(e&&e.tagName!==t.toUpperCase());return e},getPosition:function(e){var t={x:0,y:0};if(e.offsetParent)for(;;){if(t.x+=e.offsetLeft,t.y+=e.offsetTop,!e.offsetParent)break;e=e.offsetParent}else e.x&&(t.x+=e.x),e.y&&(t.y+=e.y);return t},hasAttribute:function(e,t){return null!==e.getAttribute(t)},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},html:function(e,t){if(!e)return JMVC.dom;var n="";if("undefined"!=typeof t){if(e)try{JMVC.dom.empty(e),JMVC.dom.isElement(t)?JMVC.dom.append(e,t):e.innerHTML=t+""}catch(r){}return JMVC.dom}return n=1===e.nodeType?e.innerHTML:e,JMVC.purge(e),n.trim()},idize:function(e,t){if(t=t||_.dom.nodeAttrForIndex,!(t in e)){var n=JMVC.util.uniqueid+"";e[t]=n,_.dom.nodeidMap[n]=e}return e[t]},insertAfter:function(e,t){var n=t.parentNode;return n.insertBefore(e,t.nextSibling),e},insertBefore:function(e,t){var n=t.parentNode;return n.insertBefore(e,t),e},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&typeof e.nodeType!==undefined&&1===e.nodeType&&"string"==typeof e.nodeName},isNodeList:function(e){return!("value"in e)&&"number"==typeof e.length&&"function"==typeof e.item},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeFromId:function(e){return _.dom.nodeidMap[e]},nodeTypeString:function(e){return["ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"][e.nodeType-1]||undefined
},nthchild:function(e,t,n){for(var r=e.childNodes,o=[],i=r.length,a=0,s=n||["TEXT_NODE"];i;)JMVC.array.find(s,JMVC.dom.nodeTypeString(r[a]))&&(o.push(r[a]),a+=1),i-=1;return i=o.length,i>t?o[t]:!1},preloadImage:function(e,t){var n=new W.Image;return"function"==typeof t&&(n.onload=t(n)),n.src=e,n},parent:function(e){return e.parentNode&&11!==e.parentNode.nodeType?e.parentNode:!1},prepend:function(e,t){var n=e.childNodes[0];return e.insertBefore(t,n),t},remove:function(e,t){if(!e)return!1;t&&JMVC.events.free(e);var n;if("string"==typeof e&&(e=JMVC.dom.find(e)),JMVC.util.isArray(e)){for(var r=0,o=e.length;o>r;r++)JMVC.dom.remove(e[r]);return!0}return n=e.parentNode,n.removeChild(e),n},removeAttribute:function(e,t){return e.removeAttribute(t),e},removeClass:function(e,t){var n,r;if(JMVC.util.isArray(e))for(n=0,r=e.length;r>n;n++)JMVC.dom.removeClass(e[n],t);else{if(!JMVC.util.isArray(t)){var o=new RegExp("(\\s|^)"+t+"(\\s|$)");return e.className=e.className.replace(o," "),JMVC.dom}for(n=0,r=t.length;r>n;n++)JMVC.dom.removeClass(e,t[n])}},replace:function(e,t){var n=t.style.display;t.style.display="none",JMVC.dom.insertAfter(t,e),JMVC.dom.remove(e)&&(t.style.display=n)},swap:function(e,t){var n=e.parentNode,r=e.nextSibling,o=t.parentNode,i=t.nextSibling;n.insertBefore(t,r),o.insertBefore(e,i)},switchClass:function(e,t,n){return JMVC.dom.hasClass(e,t)&&(JMVC.dom.removeClass(e,t),!JMVC.dom.hasClass(e,n)&&JMVC.dom.addClass(e,n)),e},toggleClass:function(e,t){JMVC.dom[JMVC.dom.hasClass(e,t)?"removeClass":"addClass"](e,t)},val:function(e){return e.value},walk:function(e,t){for(t(e),e=e.firstChild;e;)JMVC.dom.walk(e,t),e=e.nextSibling},wrap:function(e,t,n){var r=JMVC.dom.create(t||"div",n||{});return JMVC.dom.insertAfter(r,e),r.appendChild(e),r},wrapIn:function(e,t){var n=JMVC.dom.create("div",t||{});return n.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(n),n}},JMVC.bom={document:JMVC.WD,frames:JMVC.W.frames,history:JMVC.W.history,location:JMVC.W.location,navigator:JMVC.W.navigator,qs:function(e){JMVC.bom.location.search=JMVC.object.toQs(e)}},_.events={bindings:{},cbs:[],Estart:[],Eend:[],disabledRightClick:!1,bind:function(){function e(e,t,n){var r=JMVC.dom.idize(e);return!(t in _.events.bindings)&&(_.events.bindings[t]={}),!(r in _.events.bindings[t])&&(_.events.bindings[t][r]=[]),_.events.bindings[t][r].push(n),!0}var t;return t="addEventListener"in W?function(t,n,r){t.addEventListener.apply(t,[n,r,!1]),e(t,n,r)}:"attachEvent"in W?function(t,n,r){t.attachEvent.apply(t,["on"+n,r]),e(t,n,r)}:function(){throw new Error("No straight way to bind an event")}}(),fixCurrentTarget:function(e,t){var n=function(n){return e.call(t,n,t)},r=JMVC.array.find(_.events.cbs,n);return r>-1?_.events.cbs[r]:(_.events.cbs.push(n),n)},unbind:function(e,t,n){function r(e,t,n){Array.prototype.splice.call(_.events.bindings[e][t],n,1)}var o,i,a,s=JMVC.dom.idize(e);try{i=_.events.bindings[t][s]}catch(c){return!1}if("undefined"==typeof n){if(i=_.events.bindings[t][s],!i)return!1;for(a=i.length;a--;)_.events.unbind(e,t,i[a]);return!0}return JMVC.W.exp=_.events.bindings,o=JMVC.array.find(_.events.bindings[t][s],n),-1===o?!1:(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n),r(t,s,o),!0)}},JMVC.events={on:function(e,t,n){var r=!0;if(e instanceof Array){for(var o=0,i=e.length;i>o;o++)r&=_.events.bind(e[o],t,n);return r}return _.events.bind(e,t,n)},blurAllClicks:function(){JMVC.events.on(JMVC.W,"click",function(e){JMVC.events.eventTarget(e).blur()})},click:function(e){JMVC.events.fire(e,"click")},code:function(e){return e.keyCode?e.keyCode:e.charCode?e.charCode:e.which?e.which:!1},delay:function(e,t){W.setTimeout(e,t)},disableRightClick:function(){if(_.events.disabledRightClick)return!1;_.events.disabledRightClick=!0;var e=JMVC.events;JMVC.dom.attr(JMVC.WD.body,"oncontextmenu","return false"),e.on(JMVC.WD,"mousedown",function(t){return 2===~~t.button?(e.preventDefault(t),!1):void 0})},end:function(e){_.events.Eend.push(e)},endRender:function(){var e=0,t=_.events.Eend.length;for(null;t>e;e+=1)_.events.Eend[e]()},eventTarget:function(e){e=e?e:JMVC.W.event;var t=e.currentTarget||"undefined"!=typeof e.target?e.target:e.srcElement;if(!t)return!1;for(;3===t.nodeType&&null!==t.parentNode;)t=t.parentNode;return t},fire:function(e,t){var n=e[t];"function"==typeof n&&e[t]()},free:function(e,t){if(e=e||JMVC.WD,"undefined"==typeof t){for(var n in _.events.bindings)JMVC.events.free(e,n);return!0}JMVC.dom.walk(e,function(e){JMVC.events.off(e,t)})},coord:function(e){var t,n;return e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(t=e.clientX+JMVC.WD.body.scrollLeft+JMVC.WD.documentElement.scrollLeft,n=e.clientY+JMVC.WD.body.scrollTop+JMVC.WD.documentElement.scrollTop),[t,n]},getCoord:function(e,t){var n=JMVC.events.coord(t);return n[0]-=e.offsetLeft,n[1]-=e.offsetTop,n},loadifyCalled:!1,loadify:function(e){var t=JMVC.events;t.loadifyCalled=!0,t.start(function(){t.delay(function(){WD.body.style.opacity=0,WD.body.style.filter="alpha(opacity=0)"},0)}),t.end(function(){for(var t,n=0,r=.05,o=1;o>=n;)t=W.setTimeout(function(e){WD.body.style.opacity=e,WD.body.style.filter="alpha(opacity="+100*e+")",(e>=o||isNaN(e))&&(WD.body.style.opacity=1,WD.body.style.filter="alpha(opacity=100)")},e*n,n+r),n+=r})},off:function(e,t,n){if(e instanceof Array)for(var r=0,o=e.length;o>r;r++)_.events.unbind(e[r],t,n);else _.events.unbind(e,t,n)},one:function(e,t,n){var r=JMVC.events;if(e instanceof Array)for(var o=0,i=e.length;i>o;o++)r.one(e[o],t,n);else r.on(e,t,function a(o){n(o),r.off(e,t,a)})},onEventOut:function(e,t,n){var r=JMVC.events,o=JMVC.dom.body();r.on(o,e,function i(a){for(var s=r.eventTarget(a);s!==t;)if(s=JMVC.dom.parent(s),s===o)return r.off(o,e,i),n()})},onEsc:function(e,t){t=t||JMVC.W,JMVC.events.on(t.document,"keyup",function(n){27==n.keyCode&&e.call(t,n)})},onRight:function(e,t){JMVC.events.disableRightClick(),JMVC.events.on(e,"mousedown",function(n){2===~~n.button&&t.call(e,n)})},kill:function(e){return e||(e=W.event,e.cancelBubble=!0,e.returnValue=!1),"stopPropagation"in e&&e.stopPropagation()&&e.preventDefault(),!1},preventDefault:function(e){e=e||W.event,e.preventDefault?e.preventDefault():e.returnValue=!1},readyold:function(t){return JMVC.loaded?t.call():WD.addEventListener?WD.addEventListener("DOMContentLoaded",t,!1):W.addEventListener?W.addEventListener("load",t,!1):WD.attachEvent?WD.attachEvent("onreadystatechange",t):W.attachEvent?W.attachEvent("onload",t):e},ready:function(){function e(e){return JMVC.loaded?e.call():!1}return WD.addEventListener?function(t){return e(t)||WD.addEventListener("DOMContentLoaded",t,!1)}:W.addEventListener?function(t){return e(t)||W.addEventListener("load",t,!1)}:WD.attachEvent?function(t){return e(t)||WD.attachEvent("onreadystatechange",t)}:W.attachEvent?function(t){return e(t)||W.attachEvent("onload",t)}:void 0}(),start:function(e){_.events.Estart.push(e)},startRender:function(){var e=0,t=_.events.Estart.length;for(null;t>e;e+=1)_.events.Estart[e]()},stopBubble:function(e){e.stopPropagation&&e.stopPropagation(),null!==e.cancelBubble&&(e.cancelBubble=!0)},scrollBy:function(e,t){JMVC.events.delay(function(){W.scrollBy(e,t)},1)},scrollTo:function(e,t){JMVC.events.delay(function(){W.scrollTo(e,t)},1)},touch:function(e){var t=[],n=0,r=e.touches,o=r.length;for(null;o>n;n+=1)t.push({x:r[n].pageX,y:r[n].pageY});return t},unload:function(){JMVC.events.on(W,"beforeunload",function(e){var t=/\//;return(e||window.event).returnValue=t,t})}},JMVC.events.doTab=function(e){e.onkeydown=function(e){var t,n,r,o,i,a,s,c,u,l=this;9==e.keyCode&&(t=l.value,n=e.shiftKey,r=l.selectionStart,o=l.selectionEnd,r!=o?(r=t.lastIndexOf("\n",r)+1,i="\n"==t[o-1],a=t.substring(0,r),s=t.substring(o-~~i),c=t.substring(r,o),n?("	"==c[0]&&(c=c.substring(1)),c=c.split("\n	").join("\n")):(c=c.split("\n"),i&&c.pop(),c="	"+c.join("\n	")),l.value=a+c+s,l.selectionStart=r,l.selectionEnd=r+c.length):(u=l.value,l.value=u.substring(0,r)+"	"+u.substring(r),l.selectionEnd=l.selectionStart=r+1),e.preventDefault())}},JMVC.events.blurAllClicks(),Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),_.head={},JMVC.head={element:WD.getElementsByTagName("head").item(0),addScript:function(e,t,n){var r,o,i,a,s=JMVC.head,c=!0;return t?n?(a=JMVC.parse(e,!0),r=JMVC.dom.create("script",{type:"text/javascript"},a),o=s.element,o.appendChild(r)):i=JMVC.io.get(e,function(e){e=JMVC.parse(e,!0),r=JMVC.dom.create("script",{type:"text/javascript"},e),o=s.element,o.appendChild(r)},c):(r=n?JMVC.dom.create("script",{type:"text/javascript"},e):JMVC.dom.create("script",{type:"text/javascript",src:e}," "),o=JMVC.head.element,o.appendChild(r)),r},addStyle:function(e,t,n,r){var o,i,a,s,c,u=JMVC.head,l=!0;return t?n?(c=JMVC.parse(e,!0),i=u.element,o=WD.createElement("style"),s=WD.createTextNode(""+c),o.type="text/css",o.styleSheet?o.styleSheet.cssText=s.nodeValue:o.appendChild(s),r&&JMVC.dom.attr(o,"id",r),i.appendChild(o)):a=JMVC.io.get(e,function(e){e=JMVC.parse(e,!0),i=u.element,o=WD.createElement("style"),s=WD.createTextNode(""+e),o.type="text/css",o.styleSheet?o.styleSheet.cssText=s.nodeValue:o.appendChild(s),r&&JMVC.dom.attr(o,"id",r),i.appendChild(o)},l):(o=JMVC.dom.create("link",{type:"text/css",rel:"stylesheet",href:e}),i=JMVC.head.element,i.appendChild(o)),o},denyiXrame:function(){return W.top!==W.self&&(W.top.location=JMVC.vars.baseurl)},favicon:function(e){JMVC.head.link("icon",{rel:"shortcut icon",href:JMVC.vars.baseurl+e})},"goto":function(e,t,n){var r=[];e&&r.push(e),t&&r.push(t),n&&r.push(n),WD.location.href=JMVC.vars.baseurl+JMVC.US+r.join(JMVC.US)},lastModified:function(e){var t=JMVC.head.element.getElementsByTagName("meta"),n=JMVC.dom.create("meta",{"http-equiv":"last-modified",content:(e||JMVC.vars.last_modified||new Date).toString()}),r=t.length;r?JMVC.dom.insertAfter(n,t.item(r-1)):JMVC.head.element.appendChild(n)},lib:function(e){var t={jQuery:"//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js",jsapi:"https://www.google.com/jsapi",underscore:"http://underscorejs.org/underscore-min.js",prototype:"https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js",dropbox:"https://www.dropbox.com/static/api/dropbox-datastores-1.0-latest.js"};e in t&&JMVC.head.addScript(t[e])},link:function(e,t){t.rel=e,JMVC.dom.add(JMVC.head.element,"link",t)},linkin:function(){if("standalone"in window.navigator&&window.navigator.standalone){JMVC.events.on(document,"click",function(e){for(var t=e.target;"A"!==t.nodeName&&"HTML"!==t.nodeName;)t=t.parentNode;"href"in t&&(e.preventDefault(),document.location.href=t.href)}),JMVC.css.style(JMVC.WDB,"margin-bottom","15px");var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div");JMVC.dom.addClass(e,"jmvc-spa-bottom-navigation group"),JMVC.dom.addClass(t,"back cnt respfixed"),JMVC.dom.addClass(n,"reload cnt respfixed"),JMVC.dom.addClass(r,"forward cnt respfixed"),JMVC.dom.append(t,o),JMVC.dom.append(n,i),JMVC.dom.append(r,a),JMVC.dom.append(e,t),JMVC.dom.append(e,n),JMVC.dom.append(e,r),JMVC.events.on(o,"click",function(){history.back()}),JMVC.events.on(i,"click",function(){document.location.href=document.location.href}),JMVC.events.on(a,"click",function(){history.forward()}),JMVC.dom.append(JMVC.WDB,e)}},meta:function(e,t,n){n=!!n;var r=JMVC.head.metas(),o=JMVC.dom.findByAttribute("name",e,r);if(o.length){if(!n)return!1;JMVC.dom.remove(o[0])}var i=JMVC.head.element.getElementsByTagName("meta"),a=JMVC.dom.create("meta",{name:e,content:t}),s=i.length;return s?JMVC.dom.insertAfter(a,i.item(s-1)):JMVC.head.element.appendChild(a)},metas:function(){return JMVC.array.coll2array(JMVC.WD.getElementsByTagName("meta"))},reload:function(){var e=JMVC.WD.location.href;WD.location.href=e},removeMeta:function(e){var t=JMVC.dom.findByAttribute("name",e,JMVC.head.metas());!!t.length&&JMVC.dom.remove(t[0])},title:function(e){return"undefined"==typeof e?WD.title:(WD.title=e,WD.title)}},_.css={opera:navigator.userAgent.match(/opera\/([^\s]*)/i),mappedStyles:{},css2js_rule:function(e){return"-"===e[0]?e:e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},css3_map:["-o-transform","-moz-transform","-webkit-transform","-ms-transform"]},JMVC.css={clearer:function(){return JMVC.dom.create("br",{"class":"clearer"})},addRule:function(e,t,n,r){JMVC.dom.isNode(e)&&(e=e.sheet?e.sheet:e.styleSheet),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r)},autoHeadings:function(){JMVC.head.addStyle("h1{font-size:24px !important; line-height:48px !important; padding:24px 0px 12px !important;}h2{font-size:20px !important; line-height:36px !important; padding:18px 0px 9px !important;}h3{font-size:16px !important; line-height:28px !important; padding:14px 0px 7px !important;}h4{font-size:12px !important; line-height:24px !important; padding:12px 0px 6px !important;}h5{font-size:10px !important; line-height:20px !important; padding:10px 0px 5px !important;}h6{font-size:8px !important; line-height:16px !important; padding:8px 0px 4px !important;}",!0,!0)},beResponsive:function(e){JMVC.dom["undefined"==typeof e||e?"addClass":"removeClass"](JMVC.WDB,"resp")},getComputedStyle:function(e,t){if(_.css.opera)return JMVC.W.getComputedStyle(e,null).getPropertyValue(t);var n="undefined"!=typeof e.currentStyle?e.currentStyle:JMVC.WD.defaultView.getComputedStyle(e,null);return t?n[_.css.css2js_rule(t)]:n},getPosition:function(e,t){var n=0,r=0,o=JMVC.WD.body.scrollTop+JMVC.WD.documentElement.scrollTop,i=JMVC.WD.body.scrollLeft+JMVC.WD.documentElement.scrollLeft;if(e.offsetParent)do n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;while(e);return[t?n-i:n,t?r-o:r]},height:function(e){return e.offsetHeight||e.scrollHeight||JMVC.css.getComputedStyle(e,"height")},hide:function(e){if(e instanceof Array)for(var t=0,n=e.length;n>t;t+=1)JMVC.css.hide(e[t]);else JMVC.css.style(e,"display","none")},mappedStyle:function(e,t){var n=JMVC.dom.find("#"+e);n&&JMVC.dom.remove(n),_.css.mappedStyles[e]=JMVC.dom.create("style",{id:e,type:"text/css"},t),JMVC.dom.append(JMVC.head.element,_.css.mappedStyles[e])},mappedStyleRemove:function(e){e in _.css.mappedStyles&&JMVC.dom.remove(_.css.mappedStyles[e])},pest:function(){var e=JMVC.dom.find("#pest-css"),t=JMVC.dom.find("#pest-css-info");if(e&&t)return JMVC.events.off(JMVC.WD,"mousemove",a),JMVC.dom.remove(t),void JMVC.css.mappedStyleRemove("pest-css");var n=JMVC.dom.create("div",{id:"pest-css-info"}),r="pestPanelPosition",o=~~JMVC.cookie.get(r)||0,i=["tr","br","bl","tl"],a=function(e){var t,r,o=JMVC.events.eventTarget(e),i=JMVC.css.getComputedStyle(o),a={height:!0,width:!0,display:!0,cssFloat:!0,color:!0,backgroundColor:!0,fontSize:!0},s=document.createElement("ul"),c=function(e,n,r){t=document.createElement("li"),t.innerHTML=(n?"<strong>"+n+"</strong> : ":"")+r,e.appendChild(t)};if(o!==n){n.innerHTML="";for(var u in i)u in a&&c(s,u,i[u]);for(n.appendChild(s),n.appendChild(document.createElement("hr")),(o.id||o.className)&&(o.id&&c(s,"ID",o.id),o.className&&c(s,"CLASS",o.className),n.appendChild(s)),n.appendChild(document.createElement("hr")),r=document.createElement("ul");o.tagName;)c(r,!1,o.tagName),o=o.parentNode;n.appendChild(r)}};n.className="report respfixed "+i[o],n.style.position="fixed",n.style.zIndex=999,JMVC.events.on(n,"mouseover",function(){var e=o;o=++o%i.length,JMVC.dom.switchClass(n,i[e],i[o]),JMVC.cookie.set(r,o)}),JMVC.WD.body.appendChild(n),JMVC.css.mappedStyle("pest-css","* {outline : 1px dotted black !important; opacity : .7}*:hover {outline : 1px solid red !important; opacity:1 }.report {padding:10px; position:fixed; margin:10px; border:1px solid #333;}.report, .report *{opacity:1; line-height:14px; font-family:verdana, sans; font-size:9px; outline:0 !important; background-color:white;}.report.tl{top:0px; left:0px;}.report.tr{top:0px; right:0px;}.report.bl{bottom:0px; left:0px;}.report.br{bottom:0px; right:0px;}html , body , .report, .report *{opacity: 1}"),JMVC.events.on(JMVC.WD,"mousemove",a)},reset:function(){var e="html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-collapse:collapse;border-spacing:0;}";JMVC.head.addStyle(e,!0,!0)},rotate:function(e,t){JMVC.css.style(e,{"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)"})},show:function(e){if(e instanceof Array)for(var t=0,n=e.length;n>t;t+=1)JMVC.css.show(e[t]);else JMVC.css.style(e,"display","block")},style:function(e,t,n){var r,o,i="object"==typeof t&&"undefined"==typeof n,a=!1;if(!i&&"undefined"==typeof n)return a=e.currentStyle?e.currentStyle[_.css.css2js_rule(t)]:e.style[t],""===a||"auto"===a?JMVC.css.getComputedStyle(e,t):a;if(i)for(o in t)-1!==(t[o]+"").search(/rand/)&&(r=JMVC.nsCheck("JMVC.core.color")?JMVC.core.color.getRandomColor():"#000000",t[o]=t[o].replace(/rand/,r)),JMVC.array.find(_.css.css3_map,o)+1?e.style.cssText+=";"+o+" : "+t[o]:e.style[_.css.css2js_rule(o)]=t[o];else"undefined"!=typeof n&&(n+="",-1!==n.search(/rand/)&&(r=JMVC.nsCheck("JMVC.core.color")?JMVC.core.color.getRandomColor():"#000000",n=n.replace(/rand/,r)),JMVC.array.find(_.css.css3_map,t)+1?e.style.cssText+=";"+t+" : "+n:(e.style[_.css.css2js_rule(t)]=n,"opacity"===t&&(e.style.filter="alpha(opacity = "+~~(100*JMVC.num.getFloat(n))+")")));return JMVC.css},unselectable:function(e){JMVC.css.style(e,{"-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),JMVC.dom.attr(e,{unselectable:"on",onselectstart:"return false;",onmousedown:"return false;"})},width:function(e){return e.offsetWidth||e.scrollWidth||JMVC.css.getComputedStyle(e,"width")}},_.array={op:function(e,t){var n=0/0;try{n=new Function("return "+e.join(t)+";")()}catch(r){}return n}},JMVC.array={clean:function(e){for(var t=-1,n=e.length;++t<n;)(undefined==e[t]||"number"==typeof e[t]&&isNaN(e[t]))&&(e.splice(t--,1),n--);return e},clone:function(e){return Array.prototype.slice.call(e,0)},coll2array:function(e){var t=[],n=0;try{t=[].slice.call(e,0)}catch(r){for(null;e[n];n++)t[n]=e[n]}return t},compare:function(e,t,n){if(e===t)return!0;if(null===e||null===t||e.length!==t.length)return!1;if("undefined"!=typeof n&&(e=e.sort(),t=t.sort()),JSON&&"stringify"in JSON)return JSON.stringify(e)===JSON.stringify(t);for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},digForKey:function(e,t){return _.common.digFor("key",e,t)},digForValue:function(e,t){return _.common.digFor("value",e,t)},empty:function(e){[].splice.call(e,0,e.length)},find:function(e,t){if(e instanceof Array&&"indexOf"in e)return e.indexOf(t);for(var n=e.length-1;n>=0&&e[n]!==t;)n--;return n},findAll:function(e,t){for(var n,r=[],o=0;;){if(n=JMVC.array.find(e,t),0>n)break;o+=n+1,r.push(o-1),e=e.slice(n+1)}return r.length?r:-1},findRich:function(e,t){var n=0,r=!1,o=e.length;for(null;o>n;n+=1)if(r={}.toString.call(e[n]).match(/\[object\s(Array|Object)\]/),r&&JSON.stringify(e[n])===JSON.stringify(t)||!r&&e[n].toString()===t.toString())return n;return-1},fromArguments:function(e){return Array.prototype.slice.call(e,0)},max:function(e){return Math.max.apply(null,e)},mean:function(e){return JMVC.array.sum(e)/e.length},min:function(e){return Math.min.apply(null,e)},mult:function(e){return _.array.op(e,"*")},rand:function(e){return e[Math.floor(Math.random()*e.length)]},range:function(e,t){for(var n=[];t>=e;)n.push(e++);return n},remove:function(e,t){for(var n=e.length;n--;)e[n]===t&&e.splice(n,1);return e},shuffle:function(e){for(var t,n,r=e.length,o=0;r>o;)t=~~(r*Math.random()),n=e[o],e[o++]=e[t],e[t]=n;return e},sum:function(e){return _.array.op(e,"+")},unique:function(e){var t,n=[],r=e.length,o=0;for(o=0;r>o;o++){for(t=o+1;r>t;t++)e[o]===e[t]&&(t=++o);n.push(e[o])}return n}},_.string={charToEntity:{},entities:{__proto__:null,apos:39,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830}},JMVC.string={code2str:function(e){return String.fromCharCode.apply(null,e)},EscapeEntities:function(e){return e.replace(/[^\x20-\x7E]/g,function(e){return _.string.charToEntity[e]?"&"+_.string.charToEntity[e]+";":e})},multireplace:function(e,t){for(var n in t)e=e.replace(t[n],n);return e},nl2br:function(e){return e.replace(/\/n/gm,"<br />")},padme:function(e,t,n,r){var o=e.length;return r=r||2,n=n||"post",o>=r?e:(t=new Array(r+1-o).join(t)+"",String({pre:t+e,post:e+t}[n])||e)},regEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},repeat:function(e,t){return new Array(t+1).join(e)},replaceAll:function(e,t,n){var r,o,i,a="%",s="%",c=null,u=!1,l=!0;undefined!=n&&("delim"in n&&(a=n.delim[0],s=n.delim[1]),"fb"in n&&(c=n.fb),u=!!n.clean),r=new RegExp(a+"(\\+)?([A-z0-9-_.]*)"+s,"g");for(;l;){if(!e.match(r))return e;e=e.replace(r,function(e,n,r,f){if("function"==typeof t)o=t(r),f=o!==a+r+s?t(r):r;else if(r in t)f=typeof t[r],f="function"===f?t[r](r):"object"===f?"":t[r];else{if(r.match(/\./)&&(i=JMVC.nsCheck(r,t)))return f=n?encodeURIComponent(i):i,"function"==typeof i?i(r):i;l=!1,f=null!==c?c:u?"":a+r+s}return n?encodeURIComponent(f):f})}return e},str2code:function(e){for(var t=[],n=0,r=e.length;r>n;)t.push(e.charCodeAt(n)),n+=1;return t},str2hex:function(e){for(var t=[],n=0,r=e.length;r>n;)t.push("\\X"+parseInt(e.charCodeAt(n),10).toString(16).toUpperCase()),n+=1;return""+t.join("").replace(/X/g,"x")},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},triml:function(e){return e.replace(/^\s+/g,"")},trimr:function(e){return e.replace(/\s+$/g,"")},ucFirst:function(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})},UnescapeEntities:function(e){return e.replace(/&(.+?);/g,function(e,t){return String.fromCharCode("#"!==t[0]?_.string.entities[t]:"x"===t[1]?parseInt(t.substr(2),16):parseInt(t.substr(1),10))})}};for(var entityName in _.string.entities)_.string.charToEntity[String.fromCharCode(_.string.entities[entityName])]=entityName;if(_.object={reduce:function(e,t){var n,r="";for(n in e)e.hasOwnProperty(n)&&(r+=t(e,n,r));return r}},JMVC.object={_clone:function(e){var t,n;if(null===e||"object"!=typeof e)return e;t=e.constructor();for(n in e)e.hasOwnProperty(n)&&(t[n]=JMVC.object.clone(e[n]));return t},clone:function(e){var t,n,r,o=JMVC.object;if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){for(t=[],n=0,r=e.length;r>n;n++)t[n]=o.clone(e[n]);return t}if(e instanceof Object){t={};for(n in e)e.hasOwnProperty(n)&&(t[n]=o.clone(e[n]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},compare:function(e,t,n,r){if("undefined"==typeof n&&(n=!0),!n)return 0;if(e+""!=t+"")return!1;if(e===t)return!0;for(r in e)if(n=n&&t[r]&&JMVC.object.compare(e[r],t[r],n),!n)return!1;for(r in t)if(n=n&&e[r]&&JMVC.object.compare(t[r],e[r],n),!n)return!1;return n},contains:function(e,t){return"object"==typeof e&&t in e},digForKey:function(e,t){return _.common.digFor("key",e,t)},digForValue:function(e,t){return _.common.digFor("value",e,t)},extend:function(e,t,n){var r,o=JMVC.object.clone(e);for(r in t)!t.hasOwnProperty(r)||r in o&&!n||(o[r]=t[r]);return o},jCompare:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},keys:function(e){var t,n=[];for(t in e)n.push(t);return n},order:function(e){var t,n,r,o=[],i={};for(t in e)o.push(t);for(o.sort(),n=0,r=o.length;r>n;n++)i[o[n]]=e[o[n]];return i},toAttr:function(e){return _.object.reduce(e,function(e,t){return" "+t+(e[t]?'="'+e[t]+'"':"")})},toCss:function(e,t){return _.object.reduce(e,function(e,n){return t?n+"{"+e[n]+"} ":n+" {"+_.object.reduce(e[n],function(e,t){return t+":"+e[t]+";"})+"} "})},toQs:function(e){return _.object.reduce(e,function(e,t,n){return((n?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(e[t])).replace(/\'/g,"%27")})},toStr:function(e){return _.object.reduce(e,function(e,t){return t+":"+e[t]+";"})},values:function(e){var t,n=[];for(t in e)n.push(e[t]);return n}},_.match={rex:{email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),url:new RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i),alfa:new RegExp(/^[A-z]*$/),numint:new RegExp(/^[0-9]*$/),floatnum:new RegExp(/^[0-9\.]*$/),alfanum:new RegExp(/^[A-z0-9]*$/)}},JMVC.match={email:function(e){return e.match(_.match.rex.email)},url:function(e){return e.match(_.match.rex.url)},alfa:function(e,t,n){return n&&t>n&&(n=t),e.match(new RegExp("^[A-zs]"+(~~t?"{"+t+","+(~~n?n:"")+"}":"*")+"$"))},alfanum:function(e){return e.match(_.match.rex.alfanum)},floatnum:function(e){return(e+"").match(_.match.rex.floatnum)}},_.num={},JMVC.num={getNum:function(e){return parseInt(e,10)},getFloat:function(e){return parseFloat(e,10)},pFloat:function(e){return 1*e},pInt:function(e){return e>>0},mRound:function(e){return e+.5>>0},mFloor:function(e){return e>>0},mFloor2:function(e){return 0|e},mCeil:function(e){return e+(e>0&&!!(e%1))>>0},num:function(e){return parseFloat(e.toFixed(10),10)},dec2Bin:function(e){if(e>0)return e.toString(2)>>>0;e=Math.abs(e);var t=e^parseInt(new Array(e.toString(2).length+1).join("1"),2);return(t+1).toString(2)>>>0},bin2Dec:function(e){return parseInt(e>>>0,2)},sgn:function(e){return e>=0?1:-1}},_.events.drag={gd1:!1,getDirection:function(e){var t,n=this.gd1,r=JMVC.events.coord(e),o=["o","no","no","n","n","ne","ne","e","e","se","se","s","s","so","so","o"];return t=180*Math.atan2(r[1]-n[1],r[0]-n[0])/Math.PI,JMVC.events.drag.direction=t.toFixed(2),JMVC.events.drag.orientation=o[~~((t+180)%360/22.5)],!0}},JMVC.events.drag={direction:!1,orientation:!1,on:function(e,t){var n=t.start||function(){},r=t.move||function(){},o=t.end||function(){},i=function(e){_.events.drag.getDirection(e);var t=JMVC.events.coord(e),n=Math.sqrt((t[1]-_.events.drag.gd1[1])*(t[1]-_.events.drag.gd1[1])+(t[0]-_.events.drag.gd1[0])*(t[0]-_.events.drag.gd1[0]));r.call(e,e,{start:_.events.drag.gd1,current:t,direction:JMVC.events.drag.direction,orientation:JMVC.events.drag.orientation,distance:n})},a=function(t){JMVC.events.off(e,"mousemove"),JMVC.events.off(e,"touchmove");var n=JMVC.events.coord(t),r=Math.sqrt((n[1]-_.events.drag.gd1[1])*(n[1]-_.events.drag.gd1[1])+(n[0]-_.events.drag.gd1[0])*(n[0]-_.events.drag.gd1[0]));o.call(t,t,{start:_.events.drag.gd1,current:JMVC.events.coord(t),direction:JMVC.events.drag.direction,orientation:JMVC.events.drag.orientation,distance:r})};JMVC.events.on(e,"mousedown",function(t){_.events.drag.gd1=JMVC.events.coord(t),n.call(t,t,{start:_.events.drag.gd1}),JMVC.events.on(e,"mousemove",i)}),JMVC.events.on(e,"mouseup",a),JMVC.events.on(e,"touchstart",function(t){_.events.drag.gd1=JMVC.events.coord(t),n.call(t,t,{start:_.events.drag.gd1}),JMVC.events.on(e,"touchmove",i)}),JMVC.events.on(e,"touchend",a)},off:function(e,t){JMVC.events.on(e,"mouseup",t),JMVC.events.on(e,"touchend",t)}},_.shimthags="canvas,audio,video,source,track,embed,datalist,keygen,output,header,nav,section,main,article,aside,footer,details,summary,figure,figcaption,mark,time,bdi,wbr,dialog,meter,progress,ruby,rt,rp",null!==document.doctype){var node=document.doctype,doctype_string="<!DOCTYPE "+node.name+(node.publicId?' PUBLIC"'+node.publicId+'"':"")+(!node.publicId&&node.systemId?" SYSTEM":"")+(node.systemId?' "'+node.systemId+'"':"")+">";if("<!DOCTYPE html>"!==doctype_string){for(var t=_.shimthags.split(","),l=t.length;l--;)document.createElement(t[l]);JMVC.head.addStyle(_.shimthags+"{display:block}",!0,!0)}}!function(){var e=0,t=JMVC.modules.length;if(!W.JMVCshut){for(;t>e;)JMVC.require(JMVC.modules[e]),e+=1;
JMVC.p.lang&&JMVC.cookie.set("lang",JMVC.p.lang)}try{W.JMVCshut?JMVC.loaded=!0:JMVC.render()}catch(n){return JMVC.Errors.notify(n)}}(),"undefined"!=typeof JMVCshut&&!function(){"function"==typeof define&&define.amd&&define(function(){return JMVC})}(JMVC)}(this);