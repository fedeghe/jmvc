!function(W){"use strict";var WD=W.document,WDL=WD.location,i,j,k,l,JMVC=W.JMVC=function(){function e(e){var t=e.toString().match(/function\s(.*)\((.*)\)\s?{return\s[\'\"]?(.*)[\'\"]?;}/);return t instanceof Array&&4==t.length?{name:t[1],params:t[2]?t[2].replace(/\s/g,"").split(","):!1,ret:t[3]?t[3]:!1}:!1}var t,n,r,o,i,a,s,c,u,p,f,d,h,m,g="3.2",y="4",v="",C={},b="/",M=WDL.protocol+b+b+"www.jmvc.dev",F=WDL.protocol+b+b+"www.jmvc.org",E={ext:b+"app"+b+"extensions"+b,test:b+"app"+b+"testsuite"+b,lang:b+"app"+b+"i18n"+b},_={controller:(v||"")+".js",model:(v||"")+".js",view:".html","interface":".interface"+(v||"")+".js"},J=["html","htm","jsp","php","js","jmvc","j","mvc","do","asp"],V={controller:"index",action:"index"},w=["vendors/google/analytics","core/cookie"],D={},x="en",A=x,j=+new Date,T="undefined",N="ajax";return C={get2:function(e){return C.ns.check(e,JMVC.vars)},set2:function(e,t){C.ns.make(e,t,JMVC.vars)},del2:function(e){C.purge(C.get2(e))},debug:function(){var e=Array.prototype.slice.apply(arguments)||[];try{W.console.log.apply(W.console,e)}catch(t){try{W.opera.postError.apply(W.opera,e)}catch(n){W["log"in W?"log":"alert"](Array.prototype.join.call(e," "))}}},del:function(e){return t.vars[e]&&(t.vars[e]=null),t},delegate:function(e,n){var r=Array.prototype.slice.call(arguments,2);return function(){return e.apply(n||t,[].concat(r,Array.prototype.slice.call(arguments)))}},each:function(e,t){var n,r,o,i;if(i={}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase(),t._break=!1,t._continue=!1,t["break"]=function(){t._break=!0},t["continue"]=function(){t._continue=!0},"array"===i)for(o=[],n=0,r=e.length,null;r>n;n+=1)if(t._continue)t._continue=!1;else{if(t._break)break;o.push(t.call(e,e[n],n))}else if("object"===i){o={};for(n in e)if(e.hasOwnProperty(n)){if(t._continue){t._continue=!1;continue}if(t._break)break;!function(n){o[n]=t.call(e,e[n],n)}(n)}}else o=t(e);return o},extend:function(e,n){var r=C.ns.make("JMVC."+e);if(h.call(r),"function"==typeof n.initCheck){if(!n.initCheck.call(t))return!1;r.initCheck=null}return function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n])}(r,n),"function"==typeof r.init&&(r.init.call(t),r.init=null),r},factory_method:function(e,n,r){var o,i=n.split("/"),a=!1,s=t.vars.baseurl+b+"app"+b+e+"s/",c=e;return i.length>1&&(n=i.pop(),a=i.join(b)),"controller"===e&&(s+=t.c_prepath),s+=(a?a+b:"")+n,c=c.match(/(view|model|controller|interface)/),c&&c[0]===e?(s+=_[e],o=C.xhrget(s,e,n,r)):!1},get:function(e){return t.vars[e]||void 0},globalize:function(e,t){JMVC.W[t]=e},hook:function(e,n){var r=["onBeforeRender","onAfterRender","onBeforeParse","onAfterParse"],o=0;for(o in e)if(e.hasOwnProperty(o))try{if(!(t.array.find(r,o)>-1||n))throw{message:'EXCEPTION : You`re trying to hook unallowed function "'+o+'"'};o in D&&D[o]instanceof Array||(D[o]=[]),D[o].push(e[o])}catch(i){W.alert(i.message)}},hook_check:function(e,t){var n,r=t instanceof Array?t:!1;if(r&&e in D)for(n in D[e])r=D[e][n].apply(null,r),!(r instanceof Array)&&(r=[r]);return r},htmlspecialchars:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},htmlspecialchars_decode:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},implement:function(e,t){var n=0,r=t.length;for(null;r>n;n+=1)if(!(e.prototype&&t[n]in e.prototype&&"function"==typeof e.prototype[t[n]]||t[n]in e&&"function"==typeof e[t[n]]))return!1;return!0},inherit:function(e,t){var n=new Function;n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superClass=t.prototype,e.baseConstructor=t},jeval:function(e){try{return JMVC.W.eval(e)}catch(t){}return!1},lang:function(){for(var e=Array.prototype.slice.call(arguments,0),t=0,n=e.length;n>t;)JMVC.i18n[e[t]]||(JMVC.i18n[e[t]]=!0),t+=1},model_inherit:function(e){e.prototype.get=o.prototype.get,e.prototype.set=o.prototype.set,e.prototype.del=o.prototype.del,e.prototype.vars=o.prototype.vars,e.prototype.reset=o.prototype.reset,e.prototype.constructor=o.prototype.constructor},multi_inherit:function(e,t){for(var n in e)C.inherit(e[n],t)},ns:{make:function(e,t,n){var r,o=".",i=e.split(o),a=i.length;return typeof n===T&&(n=W),typeof t===T&&(t={}),n[i[0]]||(n[i[0]]=1===a?t:{}),r=n[i[0]],a>1?C.ns.make(i.slice(1).join(o),t,n[i[0]]):r},check:function(e,t){var n=e.split(/\.|\//),r=0,o=n.length;for(t=void 0!==t?t:W,null;o>r;r+=1){if(!t[n[r]])return!1;t=t[n[r]]}return t}},parselang:function(e){var n,r="\\[L\\[([\\S\\s]*?)\\]\\]",o=!0,i=1e5,a=t.cookie.get("lang")||x;for(JMVC.vars.currentlang=a,t.lang(JMVC.vars.currentlang),JMVC.i18n[JMVC.vars.currentlang]===!0&&t.io.get(JMVC.vars.baseurl+E.lang+JMVC.vars.currentlang+(v||"")+".js",function(e){C.jeval(e)},!1);i&&(o=new RegExp(r,"gm").exec(e),n="",o);)n=t.i18n[JMVC.vars.currentlang]&&t.i18n[JMVC.vars.currentlang][o[1]]?t.i18n[JMVC.vars.currentlang][o[1]]:o[1],e=e.replace(o[0],n),o=!!o,i-=1;return e},prototipize:function(e,t){var n,r,o=0;if(e instanceof Array)for(r=e.length;r>o;o+=1)C.prototipize(e[o],t);for(n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])},purge:function(e){var t;try{for(t in e)e[t]=null,delete e[t]}catch(n){}},render:function(e){var n,o;if(t.factory("controller",t.c),t.c in t.controllers){C.inherit(JMVC.controllers[JMVC.c],r),n=new JMVC.controllers[JMVC.c],JMVC.controllers[JMVC.c]=n,"jmvc_routes"in n&&(t.a=n.jmvc_routes[t.a]||t.a);for(o in t.p)t.p.hasOwnProperty(o)&&n.set(o,decodeURI(t.p[o]));"before"in n&&"function"==typeof n.before&&n.before(),"before_"+t.a in n&&"function"==typeof n["before_"+t.a]&&n["before_"+t.a](),"action_"+t.a in n&&"function"==typeof n["action_"+t.a]?n["action_"+t.a]():"action"in n&&"function"==typeof n.action?n.action(t.a,t.p):t.a.toLowerCase()!==V.action&&WDL.replace(b+"404"+b+"msg"+b+"act"+b+t.a),"after_"+t.a in n&&"function"==typeof n["after_"+t.a]&&n["after_"+t.a](),"after"in n&&"function"==typeof n.after&&n.after()}else t.c.toLowerCase()!==V.controller&&WDL.replace(b+"404"+b+"msg"+b+"cnt"+b+t.c);e&&"function"==typeof e&&e.call(t),t.loaded=!0},require:function(){for(var e,n,r,o,i,a=0,s=arguments.length,c=JMVC.WD.getElementsByTagName("head").item(0);s>a;){if("string"==typeof arguments[a]&&!t.extensions[arguments[a]]){switch(n=arguments[a].split(b),r=n.length,o=n[r-1],e=JMVC.vars.baseurl+("testsuite"===arguments[a]?E.test:E.ext+arguments[a]+b)+o+(v||"")+".js",N){case"ajax":t.io.get(e,function(e){C.jeval(e)},!1);break;case"script":i=JMVC.WD.createElement("script"),i.type="text/javascript",i.src=e,c.appendChild(i),c.removeChild(i)}t.extensions[arguments[a]]=arguments[a]}a+=1}},set:function(e,n){if(JMVC.util.isObject(e)){for(var r in e)t.set(r,e[r]);return t}return t.vars[e]=n,t},xhrget:function(e,n,o,a){var s,c=!1;return"view"===n&&"function"==typeof t.views[o]?c=t.views[o]:"model"===n&&"function"==typeof t.models[o]?(s=new t.models[o],a&&t.models[o].apply(s,a),s.vars={},c=s):t.io.get(e,function(e){switch(n){case"view":t.views[o]=new i(e),c=t.views[o];break;case"controller":C.jeval(e),C.inherit(t[n+"s"][o],r);break;case"model":C.jeval(e),C.model_inherit(t[n+"s"][o]),s=new t.models[o],a&&t.models[o].apply(s,a),s.vars={},c=s;break;case"interface":!(o in JMVC.interfaces)&&C.jeval(e)}},!1),c}},m=function(e){W.setTimeout(function(){var t=new p,n=null,r=function(e){JMVC.dom.remove(e)};t.then(r),function(t){n=JMVC.dom.add(JMVC.dom.body(),"iframe",{src:e,width:1,height:1}),n.contentWindow.onload=function(){t.done(n)}}(t)},0)},f={Network:function(e){this.name="Network",this.msg=e||this.name+" error"},BadParams:function(e){this.name="BadParams",this.msg=e||this.name+" error"},BadName:function(e){this.name="BadName",this.msg=e||this.name+" error"},BadImplement:function(e){this.name="BadImplement",this.msg=e||this.name+" error"},ControllerNotFound:function(e){this.name="ControllerNotFound",this.msg=e||this.name+" error"},ActionNotFound:function(e){this.name="ActionNotFound",this.msg=e||this.name+" error"}},C.multi_inherit(f,Error),s={tpl:function(e){return e.match(/\<%/)?function(e){var t=new Function("obj","var p=[]; p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');  return p.join('');");return t(e)}(e):e},parse:function(e){if(typeof e===T)return"";var n,r,o,i,a,c,u,l,p,f=e,d={patt:"{{(.[^\\}]*)}}",pattpar:"\\s(.[A-z]*)=`(.[^/`]*)`",pattvar:"\\$(.[^\\$\\s}]*)\\$",viewname:"^(.[A-z_/]*)\\s"},h=0,m=100,g=!0;for(C.hook_check("onBeforeParse",[f]);m>h;)if(h+=1,c=new RegExp(d.patt,"gm").exec(f)){if(o=i=c[1],a=!1,new RegExp(d.pattpar,"gm").test(c[1]))for(a={},p=new RegExp(d.viewname).exec(c[1]),o=p[1],p=c[1];g;)l=new RegExp(d.pattpar,"gm").exec(p),l?(a[l[1]]=l[2],p=p.replace(" "+l[1]+"=`"+l[2]+"`","")):g=!1;if(u=t.views[o]?t.views[o]:t.factory("view",o),a!==!1)for(r in a)a.hasOwnProperty(r)&&u.set(r,a[r]);for(l=!0;l;)l=new RegExp(d.pattvar,"gm").exec(u.content),l&&(u.content=u.content.replace("$"+l[1]+"$",u.get(l[1])));f=f.replace("{{"+i+"}}",u.content)}else h=m;for(n in t.vars)t.vars.hasOwnProperty(n)&&(f=f.replace(new RegExp("\\$"+n+"\\$","g"),t.vars[n]));return f=s.tpl(f),C.hook_check("onAfterParse",[f]),f}},u=function(e){this.sender=e,this.listeners=[]},u.prototype={attach:function(e){this.listeners.push(e)},notify:function(e){for(var t=0,n=this.listeners.length;n>t;)this.listeners[t++](this.sender,e)}},d=function(){this.topic2cbs={},this.enabled=!0},d.prototype={enable:function(){this.enabled=!1},disable:function(){this.enabled=!0},pub:function(e,t){var n,r=0;if(!(e in this.topic2cbs&&this.enabled))return!1;for(n=this.topic2cbs[e].length;n>r;r+=1)this.topic2cbs[e][r].apply(null,[e].concat(t));return!0},sub:function(e,t){var n,r=0;if(e instanceof Array)for(n=e.length;n>r;r+=1)this.sub(e[r],t);e in this.topic2cbs&&this.enabled||(this.topic2cbs[e]=[]),this.topic2cbs[e].push(t)},reset:function(){var e=Array.prototype.slice.call(arguments,0),t=e.length,n=0;if(!t)return this.topic2cbs={},this;for(null;t>n;n+=1)e[n]in this.topic2cbs&&(this.topic2cbs[e[n]]=[]);return this}},c=function(){return new d("JMVC")}(),h=function(){this._={}},h.prototype={},p=function(){this.cbacks=[],this.len=0,this.completed=!1,this.res=!1,this.err=!1,this.reset=function(){this.len=0,this.cbacks=[]}},p.prototype.done=function(e,t){var n=0;for(this.completed=!0,this.res=e,this.err=t,null;n<this.len;n+=1)this.cbacks[n](e,t);this.reset()},p.prototype.then=function(e,t){var n=C.delegate(e,t);return this.completed?n(this.res,this.err):(this.cbacks[this.len]=n,this.len+=1),this},a=function(t,n){if(this.name=t,this.mthds=[],!(n instanceof Array))throw new Error("An array of strings must be passed to the Interface constructor");for(var r=0,o=n.length;o>r;r++)"string"==typeof n[r]&&this.mthds.push(n[r]),console.debug(e(n[r]))},a.checkImplements=function(e){var t,n=0,r=Array.prototype.slice.call(arguments);for(l=r.length;++n<l;)for(t in r[n].mthds)if("function"!=typeof e[r[n].mthds[t]])throw new Error("Function Interface.checkImplements: object does not implement the "+r[n].name+" interface. Method "+r[n].mthds[t]+" was not found.");return e},r=function(){},r.prototype.vars={},r.prototype.jmvc_routes={},r.prototype.index=function(){W.alert("Default index action, write down a controller with at least an index action")},r.prototype.addRoutes=function(e,t){var n;if("string"==typeof e&&(this.jmvc_routes[e]=t),"object"==typeof e)for(n in e)e.hasOwnProperty(n)&&this.addRoutes(n,e[n])},r.prototype.relocate=function(e,t){W.setTimeout(function(){WDL.href=String(e)},~~(1*t)||0)},r.prototype.render=function(e,t){"function"==typeof e&&(t=e,e=!1);var n=new i(e);return n.render(t&&"function"==typeof t?{cback:t}:null),this},r.prototype.reset=function(){return this.vars={},this},o=function(){},o.prototype.vars={},o.prototype.reset=function(){return this.vars={},this},o.prototype.constructor="model",i=function(e){this.ocontent=e||"",this.content=e||"",this.vars={baseurl:t.vars.baseurl}},i.prototype.parse=function(e){var n;if(this.content){if(e)for(n in e.vars)e.vars.hasOwnProperty(n)&&(this.content=this.content.replace(new RegExp("\\$"+n+"\\$","g"),e.get(n)||""));for(n in t.vars)t.vars.hasOwnProperty(n)&&(this.content=this.content.replace(new RegExp("\\$"+n+"\\$","gm"),t.vars[n]||""))}return this},i.prototype.reset=function(){return this.content=this.ocontent,this.vars={},this},i.prototype.setFromUrl=function(e,t){return this.set(String(e),JMVC.controllers[JMVC.c].get(e)||t||"unset"),this},i.prototype.getFromUrl=function(e){return JMVC.controllers[JMVC.c].get(e)||!1},i.prototype.render=function(e){var n,r,o,i,a=e||{},c=a.cback||!1,u=a.argz||null,l=a.target||!1,p=this,f=this.content,d="\\$(.[^\\$\\s}]*)\\$";for("function"==typeof e&&(c=e),n=1;n;)n=new RegExp(d,"gm").exec(f),n&&(r=this.get(n[1])||"",f=f.replace("$"+n[1]+"$",r));return f=s.parse(f),this.content=f,t.loaded?(i=l?t.dom.find(l):!1,o=i||WD.body,t.dom.html(o,p.content),c&&c.apply(this,u?u:[])):t.events.bind(W,"load",function(){t.events.startRender(),t.loaded=!0,i=l?t.dom.find(l):!1,o=i||WD.body,t.vars.rendertime=+new Date-j,p.content=C.hook_check("onBeforeRender",[p.content])||p.content,t.dom.html(o,p.content),C.hook_check("onAfterRender",[p.content]),c&&c.apply(this,u||[]),t.events.endRender()}),this},i.prototype.get=o.prototype.get=r.prototype.get=function(e){return this.vars[e]?this.vars[e]:!1},i.prototype.set=o.prototype.set=r.prototype.set=function(e,t,n){var r;switch(typeof e){case"string":(!this.vars[e]||n)&&(this.vars[e]=t);break;case"object":for(r in e)e.hasOwnProperty(r)&&(!this.vars[r]||t||n)&&(this.vars[r]=e[r])}return this},i.prototype.del=o.prototype.del=r.prototype.del=function(e){return this.vars[e]&&(this.vars[e]=null),this},i.prototype.clone=function(e){var n=!1;return"undefined"!=typeof e?(t.views[e]=new i(this.ocontent),n=t.views[e]):n=new i(this.ocontest),n},n=function(){var e,t,n,r={url:WDL.protocol+b+b+WDL.hostname+WDL.pathname+WDL.search,proto:WDL.protocol,host:WDL.hostname,path:WDL.pathname,search:WDL.search,hash:WDL.hash.substr(1),port:WDL.port?":"+WDL.port:""},o=r.path.replace(new RegExp("\\."+J.join("|\\."),"gm"),"").substr(1).split(b),i=!1,a="",s=[],c=!1,u={},l=0,p=WDL.protocol+b+b+WDL.hostname;for(o[0].match(/test_/)&&w.push("testsuite"),"localhost"===WDL.hostname&&o.shift(),i=o.shift()||V.controller,i.match(/_/)&&(s=i.split("_"),i=s.pop(),a=s.join(b)+b),c=o.shift()||V.action,l=o.length,n=0;l>n+1;n+=2)u[o[n]]=o[n+1];if(""!==r.search)for(o=r.search.substr(1).split("&"),n=0,l=o.length;l>n;n+=1)e=o[n].split("="),u[e[0]]||(u[e[0]]=e[1]);return t={controller:i.replace(/\//g,""),controller_prepath:a,action:c.replace(/\//g,""),params:u,baseurl:p,port:r.port,search:r.search,hash:r.hash}}(),t={loaded:!1,W:W,WD:WD,WDL:WDL,US:b,M:Math,c_prepath:n.controller_prepath,c:n.controller||V.controller,a:n.action||V.action,p:n.params||{},hash:n.hash,controllers:{},models:{},views:{},interfaces:{},vars:{baseurl:n.baseurl+n.port,extensions:n.baseurl+n.port+E.ext,devurl:M,produrl:F,version:g,review:y,last_modified:WD.lastModified,rendertime:0,retina:W.devicePixelRatio>1,randcolor:new function(){var e=["00","33","66","99","CC","FF"];this.toString=function(){return"#"+e[JMVC.util.rand(0,5)]+e[JMVC.util.rand(0,5)]+e[JMVC.util.rand(0,5)]}},currentlang:A},widget:{},extensions:{},extensions_params:{},i18n:{},modules:w,nsCheck:C.ns.check,nsMake:C.ns.make,Channel:d,Event:u,Errors:f,Interface:a,Pipe:c,Promise:p,parselang:C.parselang,hookCheck:C.hook_check,debug:C.debug,delegate:C.delegate,extend:C.extend,factory:C.factory_method,inherit:C.inherit,multinherit:C.multi_inherit,preload:m,hook:C.hook,hooks:D,jeval:C.jeval,prototipize:C.prototipize,purge:C.purge,parse:s.parse,render:C.render,require:C.require,lang:C.lang,set:C.set,get:C.get,del:C.del,set2:C.set2,get2:C.get2,del2:C.del2,htmlspecialchars:C.htmlspecialchars,htmlspecialchars_decode:C.htmlspecialchars_decode,gc:function(){var e=0,t=arguments,n=t.length;for(null;n>e;e+=1)t[e]=null},getView:function(e){return C.factory_method("view",e)},getModel:function(e,t){return C.factory_method("model",e,t)},loadInterfaces:function(e,t){return C.factory_method("interface",e,t)},implement:C.implement,each:C.each,console:function(){"core/console"in t.extensions||t.require("core/console"),JMVC.console.toggle()},xdoc:function(e){if("elements"in JMVC.xdoc||(JMVC.xdoc.elements={}),!("core/xdoc"in t.extensions)&&t.require("core/xdoc"),!(e in JMVC.xdoc.elements))try{JMVC.io.ajcall(JMVC.vars.baseurl+"/app/extensions/"+e+"/xdoc.xml",{method:"GET",type:"xml",cback:function(t){JMVC.xdoc.elements[e]=t,console.debug("doc : "+t)},error:function(){alert("errore")}})}catch(n){}JMVC.xdoc.toggle(e)},loading:function(e,t){try{document.getElementById("JMVCisloading").style.display="block",document.getElementById("JMVCloading").style.width=~~e+"%",t&&(document.getElementById("JMVCloadingmessage").innerHTML=t)}catch(n){}}},t.gc(M,F,J,g,y,n,r,o,i,u,w,V,j),t}(),_={};_.io={getxhr:function(){JMVC.io.xhrcount+=1;var e,t=["Msxml2.XMLHTTP","Msxml3.XMLHTTP","Microsoft.XMLHTTP"],n=t.length,r=0;try{e=new W.XMLHttpRequest}catch(o){for(null;n>r;r+=1)try{e=new ActiveXObject(t[r])}catch(i){continue}e||JMVC.debug("No way to initialize hxr")}return JMVC.gc(t,r,n),e},ajcall:function(e,t){var n=_.io.getxhr(),r=t&&t.method||"POST",o=t&&t.cback,i=t&&t.opened||function(){},a=t&&t.loading||function(){},s=t&&t.error||function(){},c=t&&t.abort||function(){},u=t&&t.sync,l=t&&t.data||{},p=t&&t.type||"text/html",f=t&&void 0!==t.cache?t.cache:!0,d="xml"===p?"responseXML":"responseText",h=t&&t.timeout||3e3,m=!1,g=!1,y=!1,v=!1;f||(l.C=JMVC.util.now()),l=JMVC.object.obj2qs(l).substr(1),n.onreadystatechange=function(){var e;if(v===n.readyState)return!1;if(v=n.readyState,"complete"===n.readyState||4===n.readyState&&200===n.status)return m=!0,o&&(g=n[d],function(){o(g)}(g)),y=n[d],W.setTimeout(function(){JMVC.io.xhrcount-=1},50),y;if(3===n.readyState)a(n);else if(2===n.readyState)i(n);else if(1===n.readyState)switch(r){case"POST":try{n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l||!0)}catch(t){}break;case"GET":try{e={xml:"text/xml",html:"text/html",json:"application/json"}[p]||"text/html",n.setRequestHeader("Accept",e+"; charset=utf-8"),n.send(null)}catch(s){}break;default:alert(r),n.send(null)}return!0},n.onerror=function(){s&&s.apply(null,arguments)},n.onabort=function(){c&&c.apply(null,arguments)},n.open(r,"GET"===r?e+(l?"?"+l:""):e,u),W.setTimeout(function(){m||(m=!0,n.abort())},h);try{return"responseXML"===d?n[d].childNodes[0]:n[d]}catch(C){}return!0}},JMVC.io={xhrcount:0,getxhr:_.io.getxhr,post:function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t,method:"POST",sync:n,data:r,cache:o,error:i})},get:function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t||function(){},method:"GET",sync:n,data:r,cache:o,error:i})},"delete":function(e,t,n,r,o,i){return _.io.ajcall(e,{cback:t||function(){},method:"DELETE",sync:n,data:r,cache:o,error:i})},getJson:function(e,t,n){var r=_.io.ajcall(e,{type:"json",method:"GET",sync:!1,cback:t||function(){},data:n});return W.JSON&&W.JSON.parse?JSON.parse(r):JMVC.jeval("("+r+")")},getXML:function(e,t){return _.io.ajcall(e,{method:"GET",sync:!1,type:"xml",cback:t||function(){}})}},_.util={},JMVC.util={deg2rad:function(e){return JMVC.M.PI*e/180},extend:function(e,t){var n;for(n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])},getParameters:function(scriptid,pname){var script=JMVC.dom.find("#"+scriptid),p=!1,parameters=!1;return pname=pname||"data-params",p=script.getAttribute(pname),parameters=p?eval("("+p+")"):{}},getType:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},hex2int:function(e){return parseInt(e,16)},int2hex:function(e){return parseInt(e,10).toString(16)},isArray:function(e){var t,n,r=Array.isArray&&Array.isArray(e);return r?!0:(t=String(e)!==e,n={}.toString.call(e).match(/\[object\sArray\]/),t&&!(!n||!n.length))},isFunction:function(e){return"function"==typeof e},isObject:function(e){var t=String(e)!==e,n={}.toString.call(e).match(/\[object\sObject\]/);return t&&!(!n||!n.length)},isSet:function(e){return"undefined"!=typeof e},isTypeOf:function(e,t){return typeof e===t},now:function(){return+new Date},rand:function(e,t){return e+~~(JMVC.M.random()*(t-e+1))},rad2deg:function(e){return 180*e/JMVC.M.PI},range:function(e,t){for(var n=[];t-e+1;)n.push((e+=1)-1);return n},uniqueid:new function(){var e=0;this.toString=function(){return"JMVCID"+ ++e}}},_.dom={qsall:function(e){return"querySelectorAll"in JMVC.WD?JMVC.WD.querySelectorAll(e):!1}},JMVC.dom={add:function(e,t,n,r){var o=this.create(t,n,r);return this.append(e,o),o},addClass:function(e,t){var n=e.className?e.className.split(" "):[];JMVC.array.find(n,t)<0&&(n.push(t),e.className=n.join(" "))},append:function(e,t){if(JMVC.util.isArray(t))for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n]);else e.appendChild(t);return e},attr:function(e,t,n){var r,o=!1,i=!1,a=0,s=!1;try{e.nodeType}catch(c){return!1}if(3===e.nodeType||8===e.nodeType)return"undefined";if(s=JMVC.util.isObject(t),s&&e.setAttribute){for(a in t)e.setAttribute(a,t[a]);return!0}if(!t||t.constructor!==String)return"";if("undefined"!=typeof n)e[{"for":"htmlFor","class":"className"}[t]||t]=n,e.setAttribute&&e.setAttribute(t,n);else{if(r=e.getAttribute&&e.getAttribute(t)||0,!r)for(o=e.attributes,i=o.length,a=0;i>a;a+=1)if(o[a].nodeName===t)return o[a].value;e=r}return e},body:function(){return WD.body},childs:function(e){return e.childNodes},clone:function(e,t){return e.cloneNode(!!t)},create:function(e,t,n){if(!e)return W.alert("no tag"),!1;var r,o=JMVC.WD.createElement(e);t=t||{};for(r in t)t.hasOwnProperty(r)&&o.setAttribute(String(r),String(t[r]));return"undefined"!=typeof n&&(n.hasOwnProperty("nodeType")&&1===n.nodeType?this.append(o,n):this.html(o,n)),o},createText:function(e){return JMVC.WD.createTextNode(e)},createNS:function(e,t){return JMVC.WD.createElementNS(e,t)},empty:function(e){e.innerHTML=""},find:function(e,t){var n="getElement",r=!0,o=!1,i=!1;if(1===e.nodeType)return e;if(o=_.dom.qsall(e),!o){switch(e=e.match(/^(\W)?([A-z0-9-_]*)/),e[1]||"="){case"#":n+="ById",r=!1;break;case".":n+="sByClassName";break;case"@":n+="sByName";break;case"=":n+="sByTagName";break;default:return[]}o=(t||JMVC.WD)[n](e[2])}return o=r?JMVC.array.coll2array(o):o,i=o instanceof Array,i&&1==o.length?o[0]:i&&o.length>0?o:!1},find2:function(e,t){if(1===e.nodeType)return e;var n="getElement",r=0,o=0;return e=e.match(/^(\W)?([A-z0-9-_]*)/),e[1]=e[1]||"=",r="#"!==e[1],o=(t||JMVC.WD)[n+{"#":"ById",".":"ByClassName","@":"sByName","=":"sByTagName"}[e[1]]](e[2]),o=r?JMVC.array.coll2array(o):o,o instanceof Array?1==o.length?o[0]:o:o},findInnerByClass:function(e,t){var n=[],r=new RegExp("\\b"+t+"\\b"),o=e.getElementsByTagName("*"),i=0,a=o.length;for(null;a>i;i+=1)r.test(o[i].className)&&n.push(o[i]);return n},findByAttribute:function(e,t,n){var r,o,i=[],a=[],s=void 0==t,c=n instanceof Array;for(n=c?n:n||JMVC.WD.body,a=c?n:n.all?n.all:n.getElementsByTagName("*"),o=a.length;o--;)r=a[o].getAttribute(e),"string"!=typeof r||!s&&r!=t||i.push(a[o]);return i},firstAncestor:function(e,t){for(;e=e.parentNode,e&&e.tagName!=t.toUpperCase(););return e},hasAttribute:function(e,t){return null!==e.getAttribute(t)},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},html:function(e,t){if(!e)return this;var n="";if("undefined"!=typeof t){if(e)try{this.isElement(t)?(this.empty(e),this.append(e,t)):e.innerHTML=t+""}catch(r){}return this}return n=1===e.nodeType?e.innerHTML:e,JMVC.purge(e),n.trim()},insertAfter:function(e,t){var n=t.parentNode;return n.insertBefore(e,t.nextSibling),e},insertBefore:function(e,t){var n=t.parentNode;return n.insertBefore(e,t),e},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&void 0!==typeof e.nodeType&&1===e.nodeType&&"string"==typeof e.nodeName},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeTypeString:function(e){return["ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"][e.nodeType-1]||void 0},nthchild:function(e,t,n){for(var r=e.childNodes,o=[],i=r.length,a=0,s=n||["TEXT_NODE"];i;)JMVC.array.find(s,this.nodeTypeString(r[a]))&&(o.push(r[a]),a+=1),i-=1;return i=o.length,i>t?o[t]:!1},preloadImage:function(e,t){var n=new W.Image;return"function"==typeof t&&(n.onload=t(n)),n.src=e,n},parent:function(e){return e.parentNode&&11!=e.parentNode.nodeType?e.parentNode:!1},prepend:function(e,t){var n=e.childNodes[0];return e.insertBefore(t,n),t},remove:function(e){if(!e)return!1;var t;if("string"==typeof e&&(e=this.find(e)),JMVC.util.isArray(e)){for(var n=0,r=e.length;r>n;n++)this.remove(e[n]);return!0}return t=e.parentNode,t.removeChild(e),t},removeAttribute:function(e,t){return e.removeAttribute(t),e},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");return e.className=e.className.replace(n," "),this},swap:function(e,t){var n=t.style.display;t.style.display="none",this.insertAfter(t,e),this.remove(e)&&(t.style.display=n)},switchClass:function(e,t,n){return this.hasClass(e,t)&&(this.removeClass(e,t),this.hasClass(e,n)||this.addClass(e,n)),e},val:function(e){return e.value}},_.events={bindings:{},Estart:[],Eend:[],nodeAttrForIndex:"__ownid__",nodeidMap:{},nodeidInverse:function(e){return e in _.events.nodeidMap?_.events.nodeidMap[e]:!1},nodeid:function(e){if(!e.hasOwnProperty(_.events.nodeAttrForIndex)){var t=JMVC.util.uniqueid+"";e[_.events.nodeAttrForIndex]=t,_.events.nodeidMap[t]=e}return e[_.events.nodeAttrForIndex]},bind:function(e,t,n){var r=_.events.nodeid(e);return W.addEventListener?e.addEventListener(t,n,!1):W.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,t in _.events.bindings||(_.events.bindings[t]={}),r in _.events.bindings[t]||(_.events.bindings[t][r]=[]),_.events.bindings[t][r].push(n),!0},unbind:function(e,t,n){var r,o,i,a=_.events.nodeid(e);try{{_.events.bindings[t][a]}}catch(s){return JMVC.debug(t+": binding not found"),!1}if("undefined"==typeof n){for(o=_.events.bindings[t][_.events.nodeid(e)],i=o.length;i--;)_.events.unbind(e,t,o[i]);return!0}return r=JMVC.array.find(_.events.bindings[t][a],n),-1==r?!1:(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n),Array.prototype.splice.call(_.events.bindings[t][a],r,1),!0)}},JMVC.events={bind:function(e,t,n){var r=!0;if(e instanceof Array){for(var o=0,i=e.length;i>o;o++)r&=e[o]instanceof Array?_.events.bind(e[o][0],e[o][1],e[o][2]):_.events.bind(e[o],t,n);return r}return _.events.bind(e,t,n)},code:function(e){return e.keyCode?e.keyCode:e.charCode?e.charCode:e.which?e.which:!1},eventTarget:function(e){e=e?e:JMVC.W.event;var t=e.currentTarget||"undefined"!=typeof e.target?e.target:e.srcElement;if(!t)return!1;for(;3==t.nodeType&&null!=t.parentNode;)t=t.parentNode;return t},getCoord:function(e,t){var n,r;return t.pageX||t.pageY?(n=t.pageX,r=t.pageY):(n=t.clientX+JMVC.WD.body.scrollLeft+JMVC.WD.documentElement.scrollLeft,r=t.clientY+JMVC.WD.body.scrollTop+JMVC.WD.documentElement.scrollTop),n-=e.offsetLeft,r-=e.offsetTop,[n,r]},one:function(e,t,n){var r=this;if(e instanceof Array)for(var o=0,i=e.length;i>o;o++)this.one(e[o],t,n);else this.bind(e,t,function a(o){n(o),r.unbind(e,t,a)})},kill:function(e){return e||(e=W.event,e.cancelBubble=!0,e.returnValue=!1),e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1},preventDefault:function(e){e=e||W.event,e.preventDefault?e.preventDefault():e.returnValue=!1},ready:function(e){if(JMVC.loaded)return e.call();var t=null;return WD.addEventListener?t=WD.addEventListener("DOMContentLoaded",e,!1):W.addEventListener?t=W.addEventListener("load",e,!1):WD.attachEvent?t=WD.attachEvent("onreadystatechange",e):W.attachEvent&&(t=W.attachEvent("onload",e)),t},unbind:function(e,t,n){if(e instanceof Array)for(var r=0,o=e.length;o>r;r++)e[r]instanceof Array?_.events.unbind(e[r][0],e[r][1],e[r][2]):_.events.unbind(e[r],t,n);else _.events.unbind(e,t,n)},start:function(e){_.events.Estart.push(e)},end:function(e){_.events.Eend.push(e)},startRender:function(){var e=0,t=_.events.Estart.length;for(null;t>e;e+=1)_.events.Estart[e]()},endRender:function(){var e=0,t=_.events.Eend.length;for(null;t>e;e+=1)_.events.Eend[e]()},delay:function(e,t){W.setTimeout(e,t)},scrollBy:function(e,t){this.delay(function(){W.scrollBy(e,t)},1)},scrollTo:function(e,t){this.delay(function(){W.scrollTo(e,t)},1)},loadify:function(e){var t=this;this.start(function(){t.delay(function(){WD.body.style.opacity=0,WD.body.style.filter="alpha(opacity=0)"},0)}),this.end(function(){for(var t,n=0,r=.05,o=1;o>=n;)t=W.setTimeout(function(e){WD.body.style.opacity=e,WD.body.style.filter="alpha(opacity="+100*e+")",e>o&&(WD.body.style.opacity=1,WD.body.style.filter="alpha(opacity=100)")},e*n,n+r),n+=r})},touch:function(e){var t=[],n=0,r=e.touches,o=r.length;for(null;o>n;n+=1)t.push({x:r[n].pageX,y:r[n].pageY});return t}},_.head={},JMVC.head={element:WD.getElementsByTagName("head").item(0),addscript:function(e,t,n){var r,o,i,a,s=this,c=!0,u=!0;t?n?(a=JMVC.parse(e,!0),r=JMVC.dom.create("script",{type:"text/javascript",defer:"defer"},a),o=s.element,o.appendChild(r)):i=JMVC.io.get(e,function(e){e=JMVC.parse(e,!0),r=JMVC.dom.create("script",{type:"text/javascript",defer:"defer"},e),o=s.element,o.appendChild(r)},c,u):(r=n?JMVC.dom.create("script",{type:"text/javascript",defer:"defer"},e):JMVC.dom.create("script",{type:"text/javascript",defer:"defer",src:e}," "),o=this.element,o.appendChild(r))},addstyle:function(e,t,n,r){var o,i,a,s,c,u=this,l=!0,p=!1;return t?n?(c=JMVC.parse(e,!0),i=u.element,o=WD.createElement("style"),s=WD.createTextNode(String(c)),o.type="text/css",o.styleSheet?o.styleSheet.cssText=s.value:o.appendChild(s),r&&(o.id=r),i.appendChild(o)):a=JMVC.io.get(e,function(e){e=JMVC.parse(e,!0),i=u.element,o=WD.createElement("style"),s=WD.createTextNode(String(e)),o.type="text/css",o.styleSheet?o.styleSheet.cssText=s.value||s.nodeValue:o.appendChild(s),r&&(o.id=r),i.appendChild(o)},l,p):(o=JMVC.dom.create("link",{type:"text/css",rel:"stylesheet",href:e}),i=this.element,i.appendChild(o)),o},denyiXrame:function(){return W.top!==W.self&&(W.top.location=JMVC.vars.baseurl)},favicon:function(e){this.link("icon",{rel:"shortcut icon",href:JMVC.vars.baseurl+e})},"goto":function(e,t,n){var r=[];e&&r.push(e),t&&r.push(t),n&&r.push(n),WD.location.href=JMVC.vars.baseurl+JMVC.US+r.join(JMVC.US)},lastmodified:function(e){var t=this.element.getElementsByTagName("meta"),n=JMVC.dom.create("meta",{"http-equiv":"last-modified",content:(e||JMVC.vars.last_modified||new Date).toString()}),r=t.length;r?JMVC.dom.insertAfter(n,t.item(r-1)):this.element.appendChild(n)},lib:function(e){var t={jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js",jsapi:"https://www.google.com/jsapi"};e in t&&this.addscript(t[e])},link:function(e,t){t.rel=e,JMVC.dom.add(this.element,"link",t)},meta:function(e,t,n){n=!!n;var r=this.metas(),o=JMVC.dom.findByAttribute("name",e,r);if(o.length){if(!n)return!1;JMVC.dom.remove(o[0])}var i=this.element.getElementsByTagName("meta"),a=JMVC.dom.create("meta",{name:e,content:t}),s=i.length;return s?JMVC.dom.insertAfter(a,i.item(s-1)):this.element.appendChild(a)},metas:function(){return JMVC.array.coll2array(JMVC.WD.getElementsByTagName("meta"))},reload:function(){var e=JMVC.WD.location.href;WD.location.href=e},title:function(e){return"undefined"==typeof e?WD.title:(WD.title=e,WD.title)}},_.array={op:function(e,t){var n=0/0;try{n=new Function("return "+e.join(t)+";")()}catch(r){}return n}},JMVC.array={clone:function(e){return[].concat.call(e)},coll2array:function(e){var t=[];try{t=[].slice.call(e,0)}catch(n){for(var r=0;e[r];t[r]=e[r++]);}return t},empty:function(e){[].splice.call(e,0,e.length)
},find:function(e,t){if("indexOf"in e)return e.indexOf(t);for(var n=e.length;n--&&e[n]!==t;);return n},findRich:function(e,t){var n=0,r=!1,o=e.length;for(null;o>n;n+=1)if(r={}.toString.call(e[n]).match(/\[object\s(Array|Object)\]/),r&&JSON.stringify(e[n])===JSON.stringify(t)||!r&&e[n].toString()===t.toString())return n;return-1},max:function(e){return Math.max.apply(null,e)},mean:function(e){return this.sum(e)/e.length},min:function(e){return Math.min.apply(null,e)},mult:function(e){return _.array.op(e,"*")},rand:function(e){var t=Math;return e[t.floor(t.random()*e.length)]},remove:function(e,t){for(var n=e.length;n--;)e[n]===t&&e.splice(n,1)},shuffle:function(e){return e.sort(function(){return.5-Math.random()})},sum:function(e){return _.array.op(e,"+")}},_.string={charToEntity:{},entities:{__proto__:null,apos:39,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830}},JMVC.string={code2str:function(e){return String.fromCharCode.apply(null,e)},htmlEntities:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")},ltrim:function(e){return e.replace(/^\s+/g,"")},multireplace:function(e,t,n){for(n in t)e=e.replace(t[n],n);return e},padme:function(e,t,n,r){var o=e.length;return r=r||2,n=n||"post",o>=r?e:(t=new Array(r+1-o).join(t)+"",String({pre:t+e,post:e+t}[n])||e)},repeat:function(e,t){return new Array(t+1).join(e)},replaceall:function(e,t,n,r,o){n||(n="%"),r||(r="%");var i=new RegExp(n+"([A-z0-9-_]*)"+r,"g");return o=o||!1,e.replace(i,function(e,i){switch(!0){case"function"==typeof t:return t(i);case i in t:return t[i]}return o||n+i+r})},rtrim:function(e){return e.replace(/\s+$/g,"")},str2code:function(e){for(var t=[],n=0,r=e.length;r>n;)t.push(e.charCodeAt(n)),n+=1;return t},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},ucFirst:function(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})},UnescapeEntities:function(e){return e.replace(/&(.+?);/g,function(e,t){return String.fromCharCode("#"!=t[0]?_.string.entities[t]:"x"==t[1]?parseInt(t.substr(2),16):parseInt(t.substr(1)))})},EscapeEntities:function(e){return e.replace(/[^\x20-\x7E]/g,function(e){return _.string.charToEntity[e]?"&"+_.string.charToEntity[e]+";":e})}};for(var entityName in _.string.entities)_.string.charToEntity[String.fromCharCode(_.string.entities[entityName])]=entityName;if(_.object={},JMVC.object={clone:function(e){var t,n;if(null===e||"object"!=typeof e)return e;t=e.constructor();for(n in e)e.hasOwnProperty(n)&&(t[n]=this.clone(e[n]));return t},objCompare:function(e,t,n,r){if(void 0==n&&(n=!0),!n)return 0;if(e+""!=t+"")return!1;for(r in e)if(n=n&&t[r]&&this.objCompare(e[r],t[r],n),!n)return!1;for(r in t)if(n=n&&e[r]&&this.objCompare(t[r],e[r],n),!n)return!1;return n},objJCompare:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},inObject:function(e,t){return"object"==typeof e&&e[t]},obj2attr:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=" "+t+(e[t]?'="'+e[t]+'"':""));return n},obj2css:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+" {"+JMVC.object.obj2str(e[t])+"} ");return n},obj2qs:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=String((n?"&":"?")+t+"="+encodeURIComponent(e[t])));return n},obj2str:function(e){var t="";for(j in e)e.hasOwnProperty(j)&&(t+=j+":"+e[j]+";");return t}},_.match={rex:{email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),url:new RegExp(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i),alfa:new RegExp(/^[A-z]*$/),numint:new RegExp(/^[0-9]*$/),floatnum:new RegExp(/^[0-9\.]*$/),alfanum:new RegExp(/^[A-z0-9]*$/)}},JMVC.match={email:function(e){return e.match(_.match.rex.email)},url:function(e){return e.match(_.match.rex.url)},alfa:function(e,t,n){return n&&t>n&&(n=t),e.match(new RegExp("^[A-zs]"+(~~t?"{"+t+","+(~~n?n:"")+"}":"*")+"$"))},alfanum:function(e){return e.match(_.match.rex.alfanum)},floatnum:function(e){return(e+"").match(_.match.rex.floatnum)}},_.num={},JMVC.num={getNum:function(e){return parseInt(e,10)},getFloat:function(e){return parseFloat(e,10)},pFloat:function(e){return 1*e},pInt:function(e){return e>>0},mRound:function(e){return e+.5>>0},mFloor:function(e){},mCeil:function(e){return e+(e>0&&!!(e%1))>>0},num:function(e){return parseFloat(e.toFixed(10),10)}},l=JMVC.modules.length)for(i=0;l>i;)JMVC.require(JMVC.modules[i]),i+=1;JMVC.p.lang&&JMVC.cookie.set("lang",JMVC.p.lang),W.JMVCshut||JMVC.render(),JMVC.W.onerror=function(e,t,n){JMVC.debug("Uncaught error "+e+" in "+t+", lines "+n)}}(this);